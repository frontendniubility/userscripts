{"version":3,"file":"findingteacher.user.js","mappings":";;;YAIAA,KAAKC,UAAU;gBACdC,MAAM;gBACNC,UAAU;gBACVC,UAAU;gBACVC,UAAU;oBACTC,WAAW,EAAC;;;;;aCTb,SAASC,GAAEC;gBAAG,OAAqDC,OAAOC,UAAQF,MAAI;aAAtF,CAAuMG,OAAK;gBAAY;gBAAa,IAAIJ,IAAE,KAAIC,IAAE,KAAII,IAAE,MAAKC,IAAE,eAAcC,IAAE,UAASC,IAAE,UAASC,IAAE,QAAOC,IAAE,OAAMC,IAAE,QAAOC,IAAE,SAAQC,IAAE,WAAUC,IAAE,QAAOC,IAAE,QAAOC,IAAE,gBAAeC,IAAE,8FAA6FC,IAAE,uFAAsFC,IAAE;oBAACC,MAAK;oBAAKC,UAAS,2DAA2DC,MAAM;oBAAKC,QAAO,wFAAwFD,MAAM;mBAAME,IAAE,SAASxB,GAAEC,GAAEI;oBAAG,IAAIC,IAAEmB,OAAOzB;oBAAG,QAAOM,KAAGA,EAAEoB,UAAQzB,IAAED,IAAE,KAAG2B,MAAM1B,IAAE,IAAEK,EAAEoB,QAAQE,KAAKvB,KAAGL;mBAAG6B,IAAE;oBAACrB,GAAEgB;oBAAEM,GAAE,SAAS9B;wBAAG,IAAIC,KAAGD,EAAE+B,aAAY1B,IAAE2B,KAAKC,IAAIhC,IAAGK,IAAE0B,KAAKE,MAAM7B,IAAE,KAAIE,IAAEF,IAAE;wBAAG,QAAOJ,KAAG,IAAE,MAAI,OAAKuB,EAAElB,GAAE,GAAE,OAAK,MAAIkB,EAAEjB,GAAE,GAAE;;oBAAMiB,GAAE,SAASxB,EAAEC,GAAEI;wBAAG,IAAGJ,EAAEkC,SAAO9B,EAAE8B,QAAO,QAAOnC,EAAEK,GAAEJ;wBAAG,IAAIK,IAAE,MAAID,EAAE+B,SAAOnC,EAAEmC,WAAS/B,EAAEgC,UAAQpC,EAAEoC,UAAS9B,IAAEN,EAAEqC,QAAQC,IAAIjC,GAAEM,IAAGJ,IAAEH,IAAEE,IAAE,GAAEE,IAAER,EAAEqC,QAAQC,IAAIjC,KAAGE,KAAG,IAAE,IAAGI;wBAAG,WAAUN,KAAGD,IAAEE,MAAIC,IAAED,IAAEE,IAAEA,IAAEF,OAAK;;oBAAIG,GAAE,SAASV;wBAAG,OAAOA,IAAE,IAAEgC,KAAKQ,KAAKxC,MAAI,IAAEgC,KAAKE,MAAMlC;;oBAAIyC,GAAE,SAASzC;wBAAG,OAAM;4BAACmB,GAAEP;4BAAEM,GAAEJ;4BAAE4B,GAAE/B;4BAAEI,GAAEL;4BAAEiC,GAAE5B;4BAAEF,GAAEJ;4BAAEe,GAAEhB;4BAAEA,GAAED;4BAAEqC,IAAGtC;4BAAEuC,GAAEhC;0BAAGb,MAAIyB,OAAOzB,KAAG,IAAI8C,cAAcC,QAAQ,MAAK;;oBAAKtC,GAAE,SAAST;wBAAG,YAAY,MAAIA;;mBAAI2C,IAAE,MAAKK,IAAE;gBAAGA,EAAEL,KAAGxB;gBAAE,IAAIsB,IAAE,SAASzC;oBAAG,OAAOA,aAAaiD;mBAAGC,IAAE,SAASlD,GAAEC,GAAEI;oBAAG,IAAIC;oBAAE,KAAIN,GAAE,OAAO2C;oBAAE,IAAG,mBAAiB3C,GAAEgD,EAAEhD,OAAKM,IAAEN,IAAGC,MAAI+C,EAAEhD,KAAGC,GAAEK,IAAEN,SAAO;wBAAC,IAAIO,IAAEP,EAAEoB;wBAAK4B,EAAEzC,KAAGP,GAAEM,IAAEC;;oBAAE,QAAOF,KAAGC,MAAIqC,IAAErC,IAAGA,MAAID,KAAGsC;mBAAGD,IAAE,SAAS1C,GAAEC;oBAAG,IAAGwC,EAAEzC,IAAG,OAAOA,EAAEsC;oBAAQ,IAAIjC,IAAE,mBAAiBJ,IAAEA,IAAE;oBAAG,OAAOI,EAAE8B,OAAKnC,GAAEK,EAAE8C,OAAKC,WAAU,IAAIH,EAAE5C;mBAAIgD,IAAExB;gBAAEwB,EAAEpC,IAAEiC,GAAEG,EAAE9C,IAAEkC,GAAEY,EAAEX,IAAE,SAAS1C,GAAEC;oBAAG,OAAOyC,EAAE1C,GAAE;wBAACsD,QAAOrD,EAAEsD;wBAAGC,KAAIvD,EAAEwD;wBAAGC,GAAEzD,EAAE0D;wBAAGC,SAAQ3D,EAAE2D;;;gBAAW,IAAIX,IAAE;oBAAW,SAAS9B,EAAEnB;wBAAGI,KAAKmD,KAAGL,EAAElD,EAAEsD,QAAO,OAAM,IAAGlD,KAAKyD,MAAM7D;;oBAAG,IAAIwB,IAAEL,EAAE2C;oBAAU,OAAOtC,EAAEqC,QAAM,SAAS7D;wBAAGI,KAAK2D,KAAG,SAAS/D;4BAAG,IAAIC,IAAED,EAAEmC,MAAK9B,IAAEL,EAAEwD;4BAAI,IAAG,SAAOvD,GAAE,OAAO,IAAI+D,KAAKC;4BAAK,IAAGZ,EAAE5C,EAAER,IAAG,OAAO,IAAI+D;4BAAK,IAAG/D,aAAa+D,MAAK,OAAO,IAAIA,KAAK/D;4BAAG,IAAG,mBAAiBA,MAAI,MAAMiE,KAAKjE,IAAG;gCAAC,IAAIK,IAAEL,EAAEkE,MAAMlD;gCAAG,IAAGX,GAAE;oCAAC,IAAIC,IAAED,EAAE,KAAG,KAAG,GAAEE,KAAGF,EAAE,MAAI,KAAK8D,UAAU,GAAE;oCAAG,OAAO/D,IAAE,IAAI2D,KAAKA,KAAKK,IAAI/D,EAAE,IAAGC,GAAED,EAAE,MAAI,GAAEA,EAAE,MAAI,GAAEA,EAAE,MAAI,GAAEA,EAAE,MAAI,GAAEE,MAAI,IAAIwD,KAAK1D,EAAE,IAAGC,GAAED,EAAE,MAAI,GAAEA,EAAE,MAAI,GAAEA,EAAE,MAAI,GAAEA,EAAE,MAAI,GAAEE;;;4BAAI,OAAO,IAAIwD,KAAK/D;yBAAzX,CAA6XD,IAAGI,KAAKuD,KAAG3D,EAAE0D,KAAG,IAAGtD,KAAKkE;uBAAQ9C,EAAE8C,OAAK;wBAAW,IAAItE,IAAEI,KAAK2D;wBAAG3D,KAAKmE,KAAGvE,EAAEwE,eAAcpE,KAAKqE,KAAGzE,EAAE0E,YAAWtE,KAAKuE,KAAG3E,EAAE4E,WAAUxE,KAAKyE,KAAG7E,EAAE8E;wBAAS1E,KAAK2E,KAAG/E,EAAEgF,YAAW5E,KAAK6E,KAAGjF,EAAEkF,cAAa9E,KAAK+E,KAAGnF,EAAEoF,cAAahF,KAAKiF,MAAIrF,EAAEsF;uBAAmB9D,EAAE+D,SAAO;wBAAW,OAAOlC;uBAAG7B,EAAEgE,UAAQ;wBAAW,SAAQpF,KAAK2D,GAAG0B,eAAazE;uBAAIQ,EAAEkE,SAAO,SAAS1F,GAAEC;wBAAG,IAAII,IAAEqC,EAAE1C;wBAAG,OAAOI,KAAKuF,QAAQ1F,MAAII,KAAGA,KAAGD,KAAKwF,MAAM3F;uBAAIuB,EAAEqE,UAAQ,SAAS7F,GAAEC;wBAAG,OAAOyC,EAAE1C,KAAGI,KAAKuF,QAAQ1F;uBAAIuB,EAAEsE,WAAS,SAAS9F,GAAEC;wBAAG,OAAOG,KAAKwF,MAAM3F,KAAGyC,EAAE1C;uBAAIwB,EAAEuE,KAAG,SAAS/F,GAAEC,GAAEI;wBAAG,OAAOgD,EAAE5C,EAAET,KAAGI,KAAKH,KAAGG,KAAK4F,IAAI3F,GAAEL;uBAAIwB,EAAEyE,OAAK;wBAAW,OAAOjE,KAAKE,MAAM9B,KAAK8F,YAAU;uBAAM1E,EAAE0E,UAAQ;wBAAW,OAAO9F,KAAK2D,GAAGoC;uBAAW3E,EAAEmE,UAAQ,SAAS3F,GAAEC;wBAAG,IAAII,IAAED,MAAKE,MAAI+C,EAAE5C,EAAER,MAAIA,GAAEY,IAAEwC,EAAEZ,EAAEzC,IAAGgB,IAAE,SAAShB,GAAEC;4BAAG,IAAIM,IAAE8C,EAAEX,EAAErC,EAAEoD,KAAGO,KAAKK,IAAIhE,EAAEkE,IAAGtE,GAAED,KAAG,IAAIgE,KAAK3D,EAAEkE,IAAGtE,GAAED,IAAGK;4BAAG,OAAOC,IAAEC,IAAEA,EAAEqF,MAAMlF;2BAAIO,IAAE,SAASjB,GAAEC;4BAAG,OAAOoD,EAAEX,EAAErC,EAAE+F,SAASpG,GAAGqG,MAAMhG,EAAE+F,OAAO,OAAM9F,IAAE,EAAC,GAAE,GAAE,GAAE,MAAG,EAAC,IAAG,IAAG,IAAG,OAAMgG,MAAMrG,KAAII;2BAAIa,IAAEd,KAAKyE,IAAG1D,IAAEf,KAAKqE,IAAGjD,IAAEpB,KAAKuE,IAAG9C,IAAE,SAAOzB,KAAKqD,KAAG,QAAM;wBAAI,QAAO5C;0BAAG,KAAKC;4BAAE,OAAOR,IAAEU,EAAE,GAAE,KAAGA,EAAE,IAAG;;0BAAI,KAAKJ;4BAAE,OAAON,IAAEU,EAAE,GAAEG,KAAGH,EAAE,GAAEG,IAAE;;0BAAG,KAAKR;4BAAE,IAAIgC,IAAEvC,KAAKmG,UAAUC,aAAW,GAAExD,KAAG9B,IAAEyB,IAAEzB,IAAE,IAAEA,KAAGyB;4BAAE,OAAO3B,EAAEV,IAAEkB,IAAEwB,IAAExB,KAAG,IAAEwB,IAAG7B;;0BAAG,KAAKT;0BAAE,KAAKK;4BAAE,OAAOE,EAAEY,IAAE,SAAQ;;0BAAG,KAAKpB;4BAAE,OAAOQ,EAAEY,IAAE,WAAU;;0BAAG,KAAKrB;4BAAE,OAAOS,EAAEY,IAAE,WAAU;;0BAAG,KAAKtB;4BAAE,OAAOU,EAAEY,IAAE,gBAAe;;0BAAG;4BAAQ,OAAOzB,KAAKkC;;uBAAUd,EAAEoE,QAAM,SAAS5F;wBAAG,OAAOI,KAAKuF,QAAQ3F,IAAG;uBAAIwB,EAAEiF,OAAK,SAASzG,GAAEC;wBAAG,IAAII,GAAEM,IAAE0C,EAAEZ,EAAEzC,IAAGa,IAAE,SAAOT,KAAKqD,KAAG,QAAM,KAAIzC,KAAGX,IAAE,IAAGA,EAAEK,KAAGG,IAAE;wBAAOR,EAAEU,KAAGF,IAAE,QAAOR,EAAEO,KAAGC,IAAE,SAAQR,EAAES,KAAGD,IAAE,YAAWR,EAAEI,KAAGI,IAAE;wBAAQR,EAAEG,KAAGK,IAAE,WAAUR,EAAEE,KAAGM,IAAE,WAAUR,EAAEC,KAAGO,IAAE,gBAAeR,GAAGM,IAAGM,IAAEN,MAAID,IAAEN,KAAKuE,MAAI1E,IAAEG,KAAKyE,MAAI5E;wBAAE,IAAGU,MAAIC,KAAGD,MAAIG,GAAE;4BAAC,IAAII,IAAEd,KAAKkC,QAAQ0D,IAAIjF,GAAE;4BAAGG,EAAE6C,GAAG/C,GAAGC,IAAGC,EAAEoD,QAAOlE,KAAK2D,KAAG7C,EAAE8E,IAAIjF,GAAEiB,KAAK0E,IAAItG,KAAKuE,IAAGzD,EAAEyF,gBAAgB5C;+BAAQ/C,KAAGZ,KAAK2D,GAAG/C,GAAGC;wBAAG,OAAOb,KAAKkE,QAAOlE;uBAAMoB,EAAEwE,MAAI,SAAShG,GAAEC;wBAAG,OAAOG,KAAKkC,QAAQmE,KAAKzG,GAAEC;uBAAIuB,EAAEoF,MAAI,SAAS5G;wBAAG,OAAOI,KAAKiD,EAAEZ,EAAEzC;uBAAOwB,EAAEe,MAAI,SAASjC,GAAEO;wBAAG,IAAIE,GAAEC,IAAEZ;wBAAKE,IAAEuG,OAAOvG;wBAAG,IAAIW,IAAEoC,EAAEZ,EAAE5B,IAAGK,IAAE,SAASlB;4BAAG,IAAIC,IAAEyC,EAAE1B;4BAAG,OAAOqC,EAAEX,EAAEzC,EAAEkC,KAAKlC,EAAEkC,SAAOH,KAAK8E,MAAM9G,IAAEM,KAAIU;;wBAAI,IAAGC,MAAIL,GAAE,OAAOR,KAAK4F,IAAIpF,GAAER,KAAKqE,KAAGnE;wBAAG,IAAGW,MAAIH,GAAE,OAAOV,KAAK4F,IAAIlF,GAAEV,KAAKmE,KAAGjE;wBAAG,IAAGW,MAAIP,GAAE,OAAOQ,EAAE;wBAAG,IAAGD,MAAIN,GAAE,OAAOO,EAAE;wBAAG,IAAIC,KAAGJ,IAAE,IAAGA,EAAEP,KAAGP,GAAEc,EAAEN,KAAGJ,GAAEU,EAAER,KAAGP,GAAEe,GAAGE,MAAI,GAAEO,IAAEpB,KAAK2D,GAAGoC,YAAU7F,IAAEa;wBAAE,OAAOkC,EAAEX,EAAElB,GAAEpB;uBAAOoB,EAAEuF,WAAS,SAAS/G,GAAEC;wBAAG,OAAOG,KAAKmC,KAAK,IAAEvC,GAAEC;uBAAIuB,EAAEwF,SAAO,SAAShH;wBAAG,IAAIC,IAAEG,MAAKC,IAAED,KAAKmG;wBAAU,KAAInG,KAAKoF,WAAU,OAAOnF,EAAE4G,eAAajG;wBAAE,IAAIV,IAAEN,KAAG,wBAAuBO,IAAE8C,EAAEvB,EAAE1B,OAAMI,IAAEJ,KAAK2E,IAAGtE,IAAEL,KAAK6E,IAAGvE,IAAEN,KAAKqE,IAAG9D,IAAEN,EAAEgB,UAAST,IAAEP,EAAEkB,QAAOV,IAAE,SAASb,GAAEK,GAAEE,GAAEC;4BAAG,OAAOR,MAAIA,EAAEK,MAAIL,EAAEC,GAAEK,OAAKC,EAAEF,GAAG6G,OAAO,GAAE1G;2BAAIM,IAAE,SAASd;4BAAG,OAAOqD,EAAE7C,EAAEA,IAAE,MAAI,IAAGR,GAAE;2BAAMe,IAAEV,EAAE8G,YAAU,SAASnH,GAAEC,GAAEI;4BAAG,IAAIC,IAAEN,IAAE,KAAG,OAAK;4BAAK,OAAOK,IAAEC,EAAEwC,gBAAcxC;2BAAGW,IAAE;4BAACmG,IAAG3F,OAAOrB,KAAKmE,IAAI+B,OAAO;4BAAGe,MAAKjH,KAAKmE;4BAAGpD,GAAET,IAAE;4BAAE4G,IAAGjE,EAAE7C,EAAEE,IAAE,GAAE,GAAE;4BAAK6G,KAAI1G,EAAER,EAAEmH,aAAY9G,GAAEE,GAAE;4BAAG6G,MAAK5G,EAAED,GAAEF;4BAAGiC,GAAEvC,KAAKuE;4BAAG+C,IAAGrE,EAAE7C,EAAEJ,KAAKuE,IAAG,GAAE;4BAAK5D,GAAEU,OAAOrB,KAAKyE;4BAAI8C,IAAG9G,EAAER,EAAEuH,aAAYxH,KAAKyE,IAAGlE,GAAE;4BAAGkH,KAAIhH,EAAER,EAAEyH,eAAc1H,KAAKyE,IAAGlE,GAAE;4BAAGoH,MAAKpH,EAAEP,KAAKyE;4BAAImD,GAAEvG,OAAOjB;4BAAGyH,IAAG5E,EAAE7C,EAAEA,GAAE,GAAE;4BAAKK,GAAEC,EAAE;4BAAGoH,IAAGpH,EAAE;4BAAGJ,GAAEK,EAAEP,GAAEC,IAAG;4BAAG0H,GAAEpH,EAAEP,GAAEC,IAAG;4BAAGe,GAAEC,OAAOhB;4BAAG2H,IAAG/E,EAAE7C,EAAEC,GAAE,GAAE;4BAAKD,GAAEiB,OAAOrB,KAAK+E;4BAAIkD,IAAGhF,EAAE7C,EAAEJ,KAAK+E,IAAG,GAAE;4BAAKmD,KAAIjF,EAAE7C,EAAEJ,KAAKiF,KAAI,GAAE;4BAAKkD,GAAEhI;;wBAAG,OAAOD,EAAEyC,QAAQ7B,IAAE,SAAUlB,GAAEC;4BAAG,OAAOA,KAAGgB,EAAEjB,MAAIO,EAAEwC,QAAQ,KAAI;;uBAAQvB,EAAEO,YAAU;wBAAW,OAAO,MAAIC,KAAK8E,MAAM1G,KAAK2D,GAAGyE,sBAAoB;uBAAKhH,EAAEiH,OAAK,SAASnI,GAAES,GAAEC;wBAAG,IAAIC,GAAEC,IAAEmC,EAAEZ,EAAE1B,IAAGI,IAAEuB,EAAEpC,IAAGkB,KAAGL,EAAEY,cAAY3B,KAAK2B,eAAa9B,GAAE4B,IAAEzB,OAAKe,GAAEwB,IAAEU,EAAE7B,EAAEpB,MAAKe;wBAAG,OAAOwB,KAAG1B,IAAE,IAAGA,EAAEH,KAAG6B,IAAE,IAAG1B,EAAEL,KAAG+B,GAAE1B,EAAEJ,KAAG8B,IAAE,GAAE1B,EAAEN,MAAIkB,IAAEL,KAAG;wBAAOP,EAAEP,MAAImB,IAAEL,KAAG,OAAMP,EAAER,KAAGoB,IAAExB,GAAEY,EAAET,KAAGqB,IAAE5B,GAAEgB,EAAEV,KAAGsB,IAAE7B,GAAEiB,GAAGC,MAAIW,GAAEb,IAAE2B,IAAEU,EAAE3C,EAAEiC;uBAAInB,EAAEmF,cAAY;wBAAW,OAAOvG,KAAKwF,MAAMhF,GAAG+D;uBAAInD,EAAE+E,UAAQ;wBAAW,OAAOvD,EAAE5C,KAAKmD;uBAAK/B,EAAE8B,SAAO,SAAStD,GAAEC;wBAAG,KAAID,GAAE,OAAOI,KAAKmD;wBAAG,IAAIlD,IAAED,KAAKkC,SAAQhC,IAAE4C,EAAElD,GAAEC,IAAG;wBAAG,OAAOK,MAAID,EAAEkD,KAAGjD,IAAGD;uBAAGmB,EAAEc,QAAM;wBAAW,OAAOe,EAAEX,EAAEtC,KAAK2D,IAAG3D;uBAAOoB,EAAE4E,SAAO;wBAAW,OAAO,IAAIpC,KAAK5D,KAAK8F;uBAAY1E,EAAEkH,SAAO;wBAAW,OAAOtI,KAAKoF,YAAUpF,KAAKuI,gBAAc;uBAAMnH,EAAEmH,cAAY;wBAAW,OAAOvI,KAAK2D,GAAG4E;uBAAenH,EAAEiE,WAAS;wBAAW,OAAOrF,KAAK2D,GAAG6E;uBAAezH;iBAAtwI,IAA2wI0H,IAAE5F,EAAEa;gBAAU,OAAOpB,EAAEoB,YAAU+E,GAAE,EAAC,EAAC,OAAMvI,KAAG,EAAC,MAAKC,KAAG,EAAC,MAAKC,KAAG,EAAC,MAAKC,KAAG,EAAC,MAAKC,KAAG,EAAC,MAAKE,KAAG,EAAC,MAAKE,KAAG,EAAC,MAAKC,MAAI+H,SAAQ,SAAU9I;oBAAG6I,EAAE7I,EAAE,MAAI,SAASC;wBAAG,OAAOG,KAAK2F,GAAG9F,GAAED,EAAE,IAAGA,EAAE;;qBAAQ0C,EAAEqG,SAAO,SAAS/I,GAAEC;oBAAG,OAAOD,EAAEgJ,OAAKhJ,EAAEC,GAAEgD,GAAEP,IAAG1C,EAAEgJ,MAAI,IAAGtG;mBAAGA,EAAEY,SAAOJ,GAAER,EAAEuG,UAAQxG,GAAEC,EAAEuD,OAAK,SAASjG;oBAAG,OAAO0C,EAAE,MAAI1C;mBAAI0C,EAAEwG,KAAGlG,EAAEL,IAAGD,EAAEyG,KAAGnG,GAAEN,EAAED,IAAE,IAAGC;;;;aCAx1M,SAASzC,GAAEgD;gBAAG,OAAqD/C,OAAOC,UAAQ8C,EAAE,oBAAQ,QAAU;aAAtG,CAAqP7C,OAAK,SAAUH;gBAAG;gBAAa,SAASgD,EAAEhD;oBAAG,OAAOA,KAAG,mBAAiBA,KAAG,aAAYA,IAAEA,IAAE;wBAACmJ,SAAQnJ;;;gBAAG,IAAID,IAAEiD,EAAEhD,IAAGc,IAAE;oBAACK,MAAK;oBAAQC,UAAS,8BAA8BC,MAAM;oBAAKwG,eAAc,uBAAuBxG,MAAM;oBAAKsG,aAAY,gBAAgBtG,MAAM;oBAAKC,QAAO,wCAAwCD,MAAM;oBAAKkG,aAAY,yCAAyClG,MAAM;oBAAK+H,SAAQ,SAASpJ,GAAEgD;wBAAG,QAAOA;0BAAG,KAAI;4BAAI,OAAOhD,IAAE;;0BAAI;4BAAQ,OAAOA,IAAE;;;oBAAMuG,WAAU;oBAAE8C,WAAU;oBAAEC,SAAQ;wBAACC,IAAG;wBAAQC,KAAI;wBAAWC,GAAE;wBAAaC,IAAG;wBAAYC,KAAI;wBAAkBC,MAAK;wBAAsB5I,GAAE;wBAAW6I,IAAG;wBAAYC,KAAI;wBAAkBC,MAAK;;oBAAuBC,cAAa;wBAACC,QAAO;wBAAMC,MAAK;wBAAM3J,GAAE;wBAAKgB,GAAE;wBAAO4G,IAAG;wBAAQvH,GAAE;wBAAOqH,IAAG;wBAAQnH,GAAE;wBAAM4G,IAAG;wBAAOxG,GAAE;wBAAOmG,IAAG;wBAAQpG,GAAE;wBAAMkJ,IAAG;;oBAAQjD,UAAS,SAASlH,GAAEgD;wBAAG,IAAIjD,IAAE,MAAIC,IAAEgD;wBAAE,OAAOjD,IAAE,MAAI,OAAKA,IAAE,MAAI,OAAKA,IAAE,OAAK,OAAKA,IAAE,OAAK,OAAKA,IAAE,OAAK,OAAK;;;gBAAO,OAAOA,EAAEoJ,QAAQ9F,OAAOvC,GAAE,OAAM,IAAGA;;;;aCA5rC,SAAST,GAAEL;gBAAG,OAAqDC,OAAOC,UAAQF,MAAI;aAAtF,CAA2NG,OAAK;gBAAY;gBAAa,OAAO,SAASE,GAAEL,GAAED;oBAAGM,IAAEA,KAAG;oBAAG,IAAID,IAAEJ,EAAE6D,WAAUnD,IAAE;wBAACuJ,QAAO;wBAAQC,MAAK;wBAAS3J,GAAE;wBAAgBgB,GAAE;wBAAW4G,IAAG;wBAAavH,GAAE;wBAAUqH,IAAG;wBAAWnH,GAAE;wBAAQ4G,IAAG;wBAAUxG,GAAE;wBAAUmG,IAAG;wBAAYpG,GAAE;wBAASkJ,IAAG;;oBAAY,SAAS7J,EAAED,GAAEL,GAAED,GAAEW;wBAAG,OAAON,EAAEgK,WAAW/J,GAAEL,GAAED,GAAEW;;oBAAGX,EAAEkJ,GAAGe,eAAatJ,GAAEN,EAAEgK,aAAW,SAASpK,GAAEI,GAAEE,GAAEQ,GAAEN;wBAAG,KAAI,IAAIG,GAAEF,GAAEF,GAAES,IAAEV,EAAEgG,UAAU0D,gBAActJ,GAAEE,IAAEP,EAAEgK,cAAY,EAAC;4BAACrJ,GAAE;4BAAIX,GAAE;4BAAGS,GAAE;2BAAU;4BAACE,GAAE;4BAAIX,GAAE;2BAAI;4BAACW,GAAE;4BAAKX,GAAE;4BAAGS,GAAE;2BAAU;4BAACE,GAAE;4BAAIX,GAAE;2BAAI;4BAACW,GAAE;4BAAKX,GAAE;4BAAGS,GAAE;2BAAQ;4BAACE,GAAE;4BAAIX,GAAE;2BAAI;4BAACW,GAAE;4BAAKX,GAAE;4BAAGS,GAAE;2BAAO;4BAACE,GAAE;4BAAIX,GAAE;2BAAI;4BAACW,GAAE;4BAAKX,GAAE;4BAAGS,GAAE;2BAAS;4BAACE,GAAE;4BAAIX,GAAE;2BAAI;4BAACW,GAAE;4BAAKF,GAAE;6BAASS,IAAEX,EAAEa,QAAOZ,IAAE,GAAEA,IAAEU,GAAEV,KAAG,GAAE;4BAAC,IAAII,IAAEL,EAAEC;4BAAGI,EAAEH,MAAIH,IAAEG,IAAEf,EAAEC,GAAGwI,KAAKlI,GAAEW,EAAEH,IAAG,KAAGR,EAAEkI,KAAKxI,GAAEiB,EAAEH,IAAG;4BAAI,IAAI0B,KAAGnC,EAAEiK,YAAUvI,KAAK8E,OAAO9E,KAAKC,IAAIrB;4BAAI,IAAGJ,IAAEI,IAAE,GAAE6B,KAAGvB,EAAEZ,MAAIY,EAAEZ,GAAE;gCAACmC,KAAG,KAAG3B,IAAE,MAAII,IAAEL,EAAEC,IAAE;gCAAI,IAAIkC,IAAE/B,EAAEC,EAAED;gCAAGR,MAAIgC,IAAEhC,EAAE,KAAGgC,KAAI/B,IAAE,mBAAiBsC,IAAEA,EAAED,QAAQ,MAAKN,KAAGO,EAAEP,GAAEpC,GAAEa,EAAED,GAAET;gCAAG;;;wBAAO,IAAGH,GAAE,OAAOK;wBAAE,IAAIS,IAAEX,IAAES,EAAEiJ,SAAOjJ,EAAEkJ;wBAAK,OAAM,qBAAmBhJ,IAAEA,EAAET,KAAGS,EAAE4B,QAAQ,MAAKrC;uBAAIL,EAAEmK,KAAG,SAASlK,GAAEL;wBAAG,OAAOM,EAAED,GAAEL,GAAEG,OAAM;uBAAIC,EAAEoK,OAAK,SAASnK,GAAEL;wBAAG,OAAOM,EAAED,GAAEL,GAAEG;;oBAAO,IAAIW,IAAE,SAAST;wBAAG,OAAOA,EAAEmD,KAAGzD,EAAEwD,QAAMxD;;oBAAKK,EAAEqK,QAAM,SAASpK;wBAAG,OAAOF,KAAKoK,GAAGzJ,EAAEX,OAAME;uBAAID,EAAEsK,UAAQ,SAASrK;wBAAG,OAAOF,KAAKqK,KAAK1J,EAAEX,OAAME;;;;;;;ICCt4C,IAAIsK,2BAA2B;IAG/B,SAASC,oBAAoBC;QAE5B,IAAIC,eAAeH,yBAAyBE;QAC5C,IAAIC,iBAAiBC,WAAW;YAC/B,OAAOD,aAAa5K;;QAGrB,IAAID,SAAS0K,yBAAyBE,YAAY;YAGjD3K,SAAS;;QAIV8K,oBAAoBH,UAAUI,KAAKhL,OAAOC,SAASD,QAAQA,OAAOC,SAAS0K;QAG3E,OAAO3K,OAAOC;;;QCpBf0K,oBAAoBxK,IAAKH;YACxB,IAAIiL,SAASjL,UAAUA,OAAOkL,aAC7B,MAAOlL,OAAO,aACd,MAAM;YACP2K,oBAAoB9J,EAAEoK,QAAQ;gBAAEzK,GAAGyK;;YACnC,OAAOA;;;;QCLRN,oBAAoB9J,IAAI,CAACZ,SAASkL;YACjC,KAAI,IAAIC,OAAOD,YAAY;gBAC1B,IAAGR,oBAAoBlK,EAAE0K,YAAYC,SAAST,oBAAoBlK,EAAER,SAASmL,MAAM;oBAClFC,OAAOC,eAAerL,SAASmL,KAAK;wBAAEG,YAAY;wBAAM7E,KAAKyE,WAAWC;;;;;;;QCJ3ET,oBAAoBlK,IAAI,CAAC+K,KAAKC,SAAUJ,OAAOzH,UAAU8H,eAAeV,KAAKQ,KAAKC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCkBlF,IAAIE,YAAY,SAAZA,UAAsBC;YAA2B,IAAjBC,UAAiB,oEAAP,OACxCC,MAAM,MACJC,SAAS,aACTC,WAAW,SAAS;gBACxB,IAAMC,MAAM,cAAH,OACNF,QADM,oWAeNA,QAfM,4LAuBNA,QAvBM,6BAwBNA,QAxBM,gCAyBNA,QAzBM,2EA6BNA,QA7BM,aA6BKA,QA7BL,yEAiCNA,QAjCM,aAiCKA,QAjCL;gBAqCT,WAAWG,gBAAgB,aAAa;oBACtC,IAAMC,QAAQzM,SAAS0M,cAAc;oBACrCD,MAAME,cAAcJ;oBACpBvM,SAAS4M,KAAKC,YAAYJ;uBACrB;oBACLD,YAAYD;;eAGVO,OAAO,SAAS;gBACpB,IAAMC,WAAW;gBACjBb,SAAShD,SAAQ;oBAAA,IACfwC,MADe,KACfA,KACSsB,MAFM;oBAAA,OAGXD,SAASrB,OAAOsB;;gBACtB,IAAIC,aAAcC,gBAAgB,cAAeA,YAAYf,WAAWgB,aAAaC,QAAQjB;gBAC7F,KAAKc,KAAK,OAAOF;gBACjBE,MAAMI,KAAKpJ,MAAMgJ;gBACjBtB,OAAO2B,QAAQP,UAAU7D,SAAQ;oBAAkB,sCAAhBwC,MAAgB,UAAX6B,QAAW;oBACjD,WAAWN,IAAIvB,SAAS,aAAa;wBACnCuB,IAAIvB,OAAO6B;;;gBAGf,OAAON;eAEHO,OAAO,SAAS,KAACP;gBACrB,IAAMQ,OAAOJ,KAAKK,UAAUT;uBACpBU,gBAAgB,cAAeA,YAAYxB,SAASsB,QAAON,aAAaS,QAAQzB,SAASsB;eAE7FI,QAAQ,SAAS;gBAAG,IAClBC,kBAAkB,SAAlBA;oBACJ,IAAMC,OAAO/N,SAAS0M,cAAc;oBACpCqB,KAAKC,UAAUrL,IAAI0J;oBACnB,OAAO0B;mBAEHE,gBAAgB,SAAS,cAACzM,MAAM+L,OAAOW,aAAaC,WAAWC,WAAWC;oBAC9E,IAAMC,QAAQtO,SAAS0M,cAAc0B,YAAY,aAAa;oBAC9D,IAAIA,WAAW;wBACbE,MAAM7B,MAAM4B,SAASA,SAAS,aAAa;2BACtC;wBACLC,MAAMC,OAAO;;oBAEfD,MAAM9M,OAAOA;oBACb,WAAW+L,UAAU,aAAae,MAAMf,QAAQA;oBAChD,IAAIW,aAAaI,MAAMJ,cAAcA;oBACrC,IAAIC,WAAWG,MAAMH,YAAYA;oBACjC,OAAOG;mBAEHE,eAAe,SAAS,aAAChN,MAAM+L,OAAOW,aAAapH,KAAK2H,KAAKC;oBACjE,IAAMJ,QAAQL,cAAczM,MAAM+L,OAAOW;oBACzCI,MAAMC,OAAO;oBACb,WAAWzH,QAAQ,aAAawH,MAAMxH,MAAMA;oBAC5C,WAAW2H,QAAQ,aAAaH,MAAMG,MAAMA;oBAC5C,WAAWC,SAAS,aAAaJ,MAAMI,OAAOA;oBAC9C,OAAOJ;mBAEHK,eAAe,SAAS,aAACnN,MAAMoN,SAASrB,OAAOsB;oBACnD,IAAMC,SAAS9O,SAAS0M,cAAc;oBACtCoC,OAAOtN,OAAOA;oBACd,IAAMuN,eAAe,SAAfA,aAAyBC;wBAAK,iBAG9BA,IADFzB,OAAAA,QAFgC,wBAExByB,MAFwB,wBAG9BA,IADWC,MAAAA,OAFmB,uBAEZD,MAFY,WAI5BE,SAASlP,SAAS0M,cAAc;wBACtCwC,OAAO3B,QAAQA;wBACf2B,OAAOvC,cAAcsC;wBACrB,OAAOC;;oBAET,IAAIL,WAAW;wBACbC,OAAOjC,YAAYkC,aAAa;;oBAElCH,QAAQ1F,SAAQ,SAAAiG;wBACd,WAAWA,IAAIC,aAAa,aAAa;4BACvC,IAAMA,WAAWpP,SAAS0M,cAAc;4BACxC0C,SAASC,QAAQF,IAAIC;4BACrBN,OAAOjC,YAAYuC;4BACnBD,IAAIG,OAAOpG,SAAQ,SAAAqE;gCAAK,OAAI6B,SAASvC,YAAYkC,aAAaxB;;+BACzD;4BACLuB,OAAOjC,YAAYkC,aAAaI;;;oBAGpCL,OAAOvB,QAAQA;oBACf,OAAOuB;mBAEHS,iBAAiB,SAAS,eAAC/N,MAAMgO;oBACrC,IAAMC,WAAWzP,SAAS0M,cAAc;oBACxC+C,SAASC,KAAT,UAAiBrD,QAAjB,YAA2B7K;oBAC3BiO,SAASlB,OAAO;oBAChBkB,SAASjO,OAAOA;oBAChBiO,SAASD,UAAUA;oBACnB,OAAOC;mBAEHE,eAAe,SAAS,aAACV,MAAMW,SAASC;oBAC5C,IAAMC,SAAS9P,SAAS0M,cAAc;oBACtCoD,OAAO9B,UAAUrL,IAAjB,UAAwB0J,QAAxB,YAAkCwD;oBAClCC,OAAOnD,cAAcsC;oBACrBa,OAAOF,UAAUA;oBACjB,OAAOE;mBAEHC,cAAc,SAAS,YAACV,OAAOW;oBACnC,IAAMC,MAAMjQ,SAAS0M,cAAc;oBACnC,IAAIsD,SAASC,IAAID,UAAUA;oBAC3BC,IAAItD,cAAc0C;oBAClB,OAAOY;mBAEHvL,OAAO,SAAS,KAACuI;oBAAK,IACpBiD,WAAW,IACXC,MAAMrC;oBACZ5B,SAASkE,QAAO;wBAAA,IACd7B,OADc,MACdA;wBADc,OAEVA,SAAS;wBAAUrF,SAAQ,SAAAmH;wBAAW,IACpC9C,QAAQN,IAAIoD,QAAQ3E,MACtB4E;wBACJ,IAAID,QAAQ9B,SAAS,QAAQ;4BAC3B+B,UAAUrC,cAAcoC,QAAQ3E,KAAK6B,OAAO8C,QAAQnC,aAAamC,QAAQlC,WAAWkC,QAAQjC,WAAWiC,QAAQE;+BAC1G,IAAIF,QAAQ9B,SAAS,UAAU;4BACpC+B,UAAU9B,aAAa6B,QAAQ3E,KAAK6B,OAAO8C,QAAQnC,aAAamC,QAAQvJ,KAAKuJ,QAAQ5B,KAAK4B,QAAQ3B;+BAC7F,IAAI2B,QAAQ9B,SAAS,YAAY;4BACtC+B,UAAU3B,aAAa0B,QAAQ3E,KAAK2E,QAAQf,QAAQ/B,OAAO8C,QAAQxB;+BAC9D,IAAIwB,QAAQ9B,SAAS,QAAQ;4BAClC+B,UAAUf,eAAec,QAAQ3E,KAAK6B;;wBAExC4C,IAAItD,YAAYkD,YAAYM,QAAQhB,OAAOiB,QAAQZ;wBACnDS,IAAItD,YAAYyD;wBAChBJ,SAASG,QAAQ3E,OAAO4E;wBACxBA,QAAQE,iBAAiBH,QAAQ9B,SAAS,aAAa,WAAW,UAAS;4BACzE,IAAInC,IAAIqE,UAAU;gCAAA,IACVH,UAAUJ,SAASG,QAAQ3E,MAC3B6B,SAAQ8C,QAAQ9B,SAAS,SAAS+B,QAAQd,UAAUc,QAAQ/C;gCAClEnB,IAAIqE,SAASJ,QAAQ3E,KAAK6B;;;;oBAIhC4C,IAAItD,YAAY8C,aAAa,SAAQ;wBACnCzD,SAASkE,QAAO;4BAAA,IACd7B,OADc,MACdA;4BADc,OAEVA,SAAS;4BAAUrF,SAAQ;4BAG3B,IAFJwC,MAEI,MAFJA,KACA6C,OACI,MADJA,MAEM+B,UAAUJ,SAASxE;4BACzBuB,IAAIvB,OAAO6C,SAAS,SAAS+B,QAAQd,UAAUc,QAAQ/C;;wBAEzDC,KAAKP;wBACL,IAAIb,IAAIsE,QAAQ;4BACdtE,IAAIsE,OAAOzD;;wBAEbkD,IAAIQ;wBACH;oBACHR,IAAItD,YAAY8C,aAAa,WAAU;wBACrC,IAAIvD,IAAIwE,UAAU;4BAChBxE,IAAIwE,SAAS3D;;wBAEfkD,IAAIQ;wBACH;oBACH3Q,SAAS6Q,KAAKhE,YAAYsD;;gBAE5BzL,KAAKoI;;YAEPR;YACAF,MAAM;gBACJU;gBACAU;gBACAK;;YAEF,OAAOzB;;YC7NH0E,SAAS7E,UAAU,EACxB;YACCP,KAAK;YACL2D,OAAO;YACP7F,SAAS;YACT+E,MAAM;YACNe,QAAQ,EAAC,GAAG,GAAG,IAAI,IAAI,IAAI;WAE5B;YACC5D,KAAK;YACL2D,OAAO;YACP7F,SAAS;YACT+E,MAAM;YACNe,QAAQ,EAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK;WAE9J;YACC5D,KAAK;YACL2D,OAAO;YACP7F,SAAS;YACT+E,MAAM;YACNe,QAAQ,EAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK;WAE9J;YACC5D,KAAK;YACL2D,OAAO;YACP7F,SAAS;YACT+E,MAAM;YACNe,QAAQ,EAAC,GAAG,IAAI,IAAI,IAAI,KAAK,KAAK,KAAM,KAAM;WAG/C;YAEC5D,KAAK;YAGL2D,OAAO;YAGP7F,SAAS;YAGT+E,MAAM;YAENL,aAAa;YAGbE,WAAW;YAGXmC,WAAW;WAEZ;YACC7E,KAAK;YACL6C,MAAM;YACN/E,SAAS;cAGPuH,OAAOD,OAAOhE;QAElBkE,uBAAuB,MAAMF,OAAOjD;QAEpC,SAASoD;YACR,IAAIjQ;YACJ,IAAI+P,KAAKG,eAAe;gBACvB;oBACClQ,IAAI,IAAImQ,SAAS,KAAb,iBAA4BJ,KAAKG;kBACpC,OAAOE;oBACRpQ,IAAI,IAAImQ,SAAS,KAAb;oBACJE,QAAQC,MAAMF;oBACdG,MAAM,6BAAD,OAA8BH;;mBAE9B;gBACNpQ,IAAI,IAAImQ,SAAS,KAAb;;YAEL,OAAOnQ;;QAGD,IAAMwQ,sBAAsBP;QCpE5B,IAAMQ,aAAaC,OAAOC,SAASC,KAAKC;QAExC,IAAM3F,WAAW;YACvB4F,cAAcL,WAAWM,SAAS;YAClCC,cAAcP,WAAWM,SAAS;YAClCE,YAAYR,WAAWM,SAAS;YAChCG,cAAcnB,KAAKmB;YACnBC,KAAKV,WAAWlN,MAAM,aAAakN,WAAWlN,MAAM,WAAW,KAAK;YACpE6N,KAAKX;;QAGC,IAAIY,yBAAyB,OAAUtB,KAAKuB;QACnD,IAAIC,MAAM;QAEH,SAASC,OAAOJ;YACtB,KAAKA,KAAK,OAAOlG,SAASiG;YAC1B,OAAOC,IAAI7N,MAAM,WAAW;;QAGtB,SAASkO,WAAW/G,KAAKgH;YAC/B,IAAItP,IAAIuP,eAAevF,QAAQ1B;YAC/B,IAAItI,MAAM,MAAM;gBACf,OAAOiK,KAAKpJ,MAAMb;mBACZ;gBACN,IAAIqK,cAAciF,oBAAoB,aAAaA,iBAAiBhH,OAAOgH;gBAC3EC,eAAe/E,QAAQlC,KAAK2B,KAAKK,UAAUD;gBAC3C,OAAOA;;;QAIF,SAASmF,WAAWlH,KAAKmH;YAC/B,IAAIA,cAAc,MAAM;gBACvBF,eAAeG,WAAWpH;mBACpB;gBACN,IAAI+B,cAAcoF,aAAa,aAAaA,UAAUnH,OAAOmH;gBAC7DF,eAAe/E,QAAQlC,KAAK2B,KAAKK,UAAUD;;;QAItC,SAASsF;YACf,IAAIC,MAAM5O,KAAK6O;YACf,IAAIlC,KAAKmC,wBAAwB,GAAG,OAAOF;YAC3C,IAAIG,QAAQC,SAASlG,YAAY;YACjC,KAAKiG,SAAS/O,KAAK6O,QAAQE,QAAQpC,KAAKmC,uBAAuB,KAAQ;gBACtEvF,YAAY,mBAAmBqF;gBAC/B,OAAOA;;YAER,OAAOG;;QAQD,SAASE;YACf,OAAO,WAAWb;;QASnB,SAAStB,cAAcoC;YACtB,IAAIC,MAAMD,MAAMjE,QAAQiE,MAAMjE,QAAQ;YACtC,IAAIkE,MAAMD,MAAME,cAAcF,MAAME,cAAc;YAClD,IAAID,MAAMD,MAAMG,iBAAiBH,MAAMG,iBAAiB;YAExD,OAAOjC,oBAAoB8B;;QAS5B,SAASI,cAAcJ;YACtB,IAAIC,MAAMD,MAAMK,YAAYL,MAAMK,YAAY;YAC9C,IAAIJ,MAAMD,MAAMM,UAAUN,MAAMM,UAAU;YAE1C,IAAIC,MAAMP,MAAMK,YAAYL,MAAMM;YAClC,IAAIC,MAAM,GAAGA,MAAM;YACnB,SAASP,MAAMM,UAAU3M,OAAO6M,WAAWD,KAAKE,QAAQ,KAAK;;QAMvD,SAASC,cAAOC;YACtB,IAAIC,QAAQ9S,EAAE8S,MAAMlU,UAAU,MAAMiU;YACpC,IAAIC,MAAM,MAAM,cAAc;gBAC7B;;YAED9S,EAAE+S,QAAQnU;;QAQJ,SAASoU,cAAcC;YAC7B,OAAQ;gBACP,IAAIhT,IAAI;gBACRD,EAAEkT,KACDD,eACEpF,OACA1K,MAAMgO,KACNnC,QAAO,SAAAtM;oBAAC,OAAIA,MAAM;sBACpB,SAAUnD,GAAGqO;oBACZ3N,KAAK4F,OAAO+H;;gBAGd,OAAO3N;aAXA;;QAmBF,SAASkT,gBAAgBC;YAC/B,OAAOA,gBACLC,KAAI,SAAU9T,GAAGyC;gBACjB,IAAI1C,IAAI,sCAAsCgU,KAAKtR,EAAEuR;gBACrD,OAAO;oBACNjJ,KAAKhL,EAAE;oBACP6M,OAAO7M,EAAE;;gBAGVsG,MACA4N,QAAO,SAAUC,MAAMC;gBACvB,IAAID,KAAKC,KAAKpJ,MAAMmJ,KAAKC,KAAKpJ,QAAQzE,OAAO6N,KAAKvH;gBAClDsH,KAAKC,KAAKpJ,OAAOzE,OAAO6N,KAAKvH;gBAC7B,OAAOsH;gBACL;;QAWE,SAASE,6BAA6BC,aAAaC;YAAwB,2BAAnBC,eAAmB,oEAAJ;YAC7ED,IAAIE,KAAK,qBAAqBpJ,KAC7B,cAOA,SAAUpL,GAAGqO;gBACZ,OAAOA,IAAIoG,WAAW,QAAQ,IAAIA,WAAW,OAAO;;YAItD,IAAI9B,QAAQ;gBACXjE,OAAO+E,cAAca,IAAIE,KAAK;gBAC9BE,YAAYjR,KAAK6O;gBACjBqC,QAAQf,gBAAgBU,IAAIE,KAAK;gBACjCI,aAAatO,OAAOgO,IAAIE,KAAK,kFAAkFlG;gBAC/GuG,cAAcP,IAAIE,KAAK,iGAAiGlG;gBACxHwG,UAAUR,IACRE,KAAK,+FACLV,KAAI,SAAU9T,GAAGyC;oBACjB,OAAOhC,EAAEgC,GAAG6L;oBAEZjI,MACA4N,QAAO,SAAUc,KAAK1C;oBACtB,IAAIA,KAAK0C,IAAIC,KAAK3C;oBAClB,OAAO0C;oBACL;;YAGL,IAAIT,IAAIE,KAAK,+BAA+BrT,UAAU,GAAG;gBACxDwR,MAAMM,UAAU3M,OACfgO,IACEE,KAAK,qCACLlG,OACA1K,MAAMgO,KACNnC,QAAO,SAAAtM;oBAAC,OAAIA,MAAM;oBAAI;gBAEzBwP,MAAMK,YAAY1M,OACjBgO,IACEE,KAAK,qCACLlG,OACA1K,MAAMgO,KACNnC,QAAO,SAAAtM;oBAAC,OAAIA,MAAM;oBAAI;gBAEzBwP,MAAME,cAAcE,cAAcJ;gBAElCA,MAAME,cAAcE,cAAcJ;gBAClCA,MAAMsC,YAAY1E,cAAcoC;gBAEhCA,MAAMuC,SAASZ,IAAIE,KAAK,iBAAiBlG;;YAE1CqE,MAAMG,iBAAiBxM,QAAM,wBAC5BgO,IACEE,KAAK,iBACLlG,OACA1K,MAAMgO,KACNnC,QAAO,SAAAtM;gBAAC,OAAIA,MAAM;gBAAI,QALI,mEAKE;YAE/BwP,MAAMwC,aAAab,IAAIE,KAAK,gCAAgCrT,SAAS;YAErEwR,MAAM9R,OAAOyT,IAAIE,KAAK,WAAWlG,OAAO8G;YACxC,IAAIC,UAAUf,IACZE,KAAK,qCACLlG,OACA1K,MAAMgO,KACNnC,QAAO,SAAAtM;gBAAC,OAAIA,MAAM;;YACpBwP,MAAM2C,OAAOhP,OAAO+O,QAAQ;YAC5B1C,MAAM4C,MAAMjP,OAAO+O,QAAQ;YAC3B1C,MAAM6C,cAAcpD;YACpBO,QAAQlS,EAAE+H,OAAO,IAAI6L,aAAa1B,OAAO4B;YAEzCD,IAAIE,KAAK,qBAAqBpJ,KAAK,cAAa,SAAUpL,GAAGqO;gBAC5D,iBAAUA,KAAV,4DAC6CgG,YAAYY,WADzD,4EAE8CZ,YAAYxB,aAF1D,8EAG+CwB,YAAYpB,SAH3D,6EAI+CoB,YAAYrB,WAJ3D,+EAKiDqB,YAAY3F,OAL7D;;YASD,OAAOiE;;;QCpPR;YACI8C,IAAIC,QAAQtK;gBACR,WAAWA,SAAS,UAAU;oBAC1B,OAAOA,QAAQsK;;gBAEnBtK,OAAOA,KAAK7I;gBACZ,IAAI6I,QAAQsK,QAAQ,OAAO;gBAC3B,IAAIC,OAAO3K,OAAO2K,KAAKD;gBACvB,IAAI1V,IAAI2V,KAAKxU;gBACb,OAAOnB,KAAK;oBACR,IAAI2V,KAAK3V,MAAM2V,KAAK3V,GAAGuC,iBAAiB6I,MAAM,OAAO;;gBAEzD,OAAO;;YAEX/E,IAAIqP,QAAQtK,MAAMwK;gBACd,WAAWxK,SAAS,UAAU;oBAC1B,OAAOsK,OAAOtK;;gBAElBA,OAAOA,KAAK7I;gBACZ,IAAI6I,QAAQsK,QAAQ,OAAOA,OAAOtK;gBAClC,IAAIuK,OAAO3K,OAAO2K,KAAKD;gBACvB,IAAI1V,IAAI2V,KAAKxU;gBACb,OAAOnB,KAAK;oBACR,IAAI2V,KAAK3V,MAAM2V,KAAK3V,GAAGuC,iBAAiB6I,MAAM,OAAOsK,OAAOC,KAAK3V;;gBAErE,OAAOyK;;YAEXhF,IAAIiQ,QAAQtK,MAAMwB;gBACd,WAAWxB,SAAS,UAAU;oBAC1BsK,OAAOtK,QAAQwB;;gBAEnB8I,OAAOtK,KAAK7I,iBAAiBqK;gBAC7B,OAAO;;;QC1BfnM,EAAE+H,OAAOpH,MAAMmC,WAAW;YACzBsS,OAAO,SAAS;gBACf,SADgBC,cAChB,oEAD8B,IACrB9V,IAAI,GAAGA,IAAIH,KAAKsB,QAAQnB,KAAK;oBACrC,IAAIH,KAAKG,MAAM8V,aAAa;wBAC3BjW,KAAKkW,OAAO/V,GAAG;wBACfA;;;gBAGF,OAAOH;;;QAGTY,EAAE+H,OAAOlC,OAAO/C,WAAW;YAC1B2B,UAAU,SAAS,SAAC0M;gBACnB,IAAIgB,MAAMhB,MAAMA,MAAM;gBACtB,OAAO/R,KAAKuT,QAAQxB;;;QAGtBnR,EAAE+H,OAAOtH,OAAOqC,WAAW;YAC1ByS,SAAS,SAAS;gBACjB,OAAOC,WAAWpW;;YAEnBqW,OAAO,SAAS;gBACf,OAAOzD,SAAS5S;;YAEjBsW,aAAa,SAAS;gBAAS,kCAALC,MAAK;oBAALA,IAAK;;gBAC9B,KAAKhV,MAAMiV,QAAQD,MAAM,OAAO;gBAChC,OAAO,IAAIE,OAAOF,IAAI/U,KAAK,MAAMsC,KAAK9D;;YAGvC4U,YAAY,SAAS,WAAC8B,QAAQC;gBAC7B,IAAId,SAAS7V;gBACb,OAAO6V,OAAOlT,QAAQ,IAAI8T,OAAOC,QAAQ,MAAMC;;;QAIjD,KAAKtV,OAAOqC,UAAUkT,YAAY;YACjCzL,OAAOC,eAAe/J,OAAOqC,WAAW,cAAc;gBACrDqJ,OAAO,SAAS,MAAC2J,QAAQG;oBACxB,IAAIC,MAAMD,SAAS,IAAIA,SAAS,IAAI;oBACpC,OAAO7W,KAAKgE,UAAU8S,KAAKA,MAAMJ,OAAOpV,YAAYoV;;;;QAIvD,KAAKrV,OAAOqC,UAAUqT,UAAU;YAC/B1V,OAAOqC,UAAUqT,WAAW,SAAUL,QAAQM;gBAC7C,IAAIA,aAAapM,aAAaoM,WAAWhX,KAAKsB,QAAQ;oBACrD0V,WAAWhX,KAAKsB;;gBAEjB,OAAOtB,KAAKgE,UAAUgT,WAAWN,OAAOpV,QAAQ0V,cAAcN;;;QAGhE,KAAKrV,OAAOqC,UAAU6N,UAAU;YAC/BlQ,OAAOqC,UAAU6N,WAAW,SAAUmF,QAAQO;gBAC7C;gBAEA,IAAIP,kBAAkBD,QAAQ;oBAC7B,MAAMS,UAAU;;gBAEjB,IAAID,UAAUrM,WAAW;oBACxBqM,QAAQ;;gBAET,OAAOjX,KAAKmX,QAAQT,QAAQO,YAAY;;;QAK1CrW,EAAE+H,OAAOuI,QAAQ;YAChBkG,YAAY,SAAS,WAACxF;gBAAK,IAEtByF,cAAczF,MAAMA,IAAI1Q,MAAM,KAAK,KAAKgQ,OAAOC,SAASuF,OAAOxQ,MAAM,IACrEoR,YAAY,kBAAkBD,aAE9B/L,MAAM1K,EAAEsQ,QAAQjE,KAAKqK;gBACzB,IAAIhM,OAAOV,WAAW;oBACrBU,MAAM,IAAIiM,MAAM,IAAIC;oBACpB5W,EAAEsQ,QAAQjE,KAAKqK,WAAWhM;uBACpB,OAAOA;gBAGd,IAAI+L,aAAa;oBAEhBA,cAAcA,YAAYnW,MAAM,KAAK;oBAErC,IAAIqV,MAAMc,YAAYnW,MAAM;oBAC5B,KAAK,IAAIf,IAAI,GAAGA,IAAIoW,IAAIjV,QAAQnB,KAAK;wBAAA,IAEhCG,IAAIiW,IAAIpW,GAAGe,MAAM,MAEjBuW,YAAYnX,EAAE,IACdoX,oBAAoBpX,EAAE,OAAO,cAAc,OAAOA,EAAE;wBAExD,IAAImX,UAAU1T,MAAM,gBAAgB;4BAEnC,IAAImH,MAAMuM,UAAU9U,QAAQ,cAAc;4BAC1C,KAAK2I,IAAIJ,MAAMI,IAAIJ,OAAO;4BAE1B,IAAIuM,UAAU1T,MAAM,aAAa;gCAEhC,IAAI4T,QAAQ,YAAYzD,KAAKuD,WAAW;gCACxCnM,IAAIJ,KAAKyM,SAASD;mCACZ;gCAENpM,IAAIJ,KAAKiK,KAAKuC;;+BAET;4BAEN,KAAKpM,IAAImM,YAAY;gCAEpBnM,IAAImM,aAAaC;mCACX,IAAIpM,IAAImM,qBAAqBnM,IAAImM,eAAe,UAAU;gCAEhEnM,IAAImM,aAAa,EAACnM,IAAImM;gCACtBnM,IAAImM,WAAWtC,KAAKuC;mCACd;gCAENpM,IAAImM,WAAWtC,KAAKuC;;;;;gBAKxB,OAAOpM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QC1HTgF,OAAOJ,SAAS,SAAAzD;YAEfoE,QAAQC,MAAMrE;YACd;gBAEC,IAAIkE,SAAS,KAAb,iBAA4BlE,IAAIiE,eAAhC,CAAiD;cAChD,OAAOE;gBACRC,QAAQC,MAAMF;gBACdG,MAAM,6BAAD,OAA8BH;gBACnC,OAAO;;YAERhQ,EAAE,oBAAoB6N,KAAK,SAASmJ,0BAA0B;;QAE/D,IAAIC,UAAU,GACbC,UAAU,OACVC,WAAW,GACXC,WAAW,SACXC,QAAQ,GACRC,QAAQ,QACRC,SAAS,GACTC,SAAS;QAEV,SAASC;YAAmB,IACvBC,QAAQ7R,OAAO7F,EAAE,8BAA8B2X,OAAO9J,SACtD+J,OAAO/R,OAAO7F,EAAE,2BAA2B6N;YAC/C,IAAI6J,OAAO,OAAOA,QAAQE,WACrB,OAAO;;QAGb,SAASZ;YACR,IAAIU,QAAQD;YACZ,IAAI3M,SAASgG,eAAe4G,OAAO,OAAOA,YACrC,OAAO5M,SAASgG;;QAGtB,SAAS+G,sBAAsBC,MAAM5F;YACpC,KAAKC,MAAMD,MAAMjE,QAAQ;gBACxB,IAAIiE,MAAMjE,QAAQkJ,UAAUA,WAAWjF,MAAMjE;gBAC7C,IAAIiE,MAAMjE,QAAQmJ,UAAUA,WAAWlF,MAAMjE;;YAE9C,IAAIiE,MAAMG,mBAAmBF,MAAMD,MAAMG,iBAAiB;gBACzD,IAAIH,MAAMG,iBAAiBgF,OAAOA,QAAQnF,MAAMG;gBAChD,IAAIH,MAAMG,iBAAiBiF,OAAOA,QAAQpF,MAAMG;;YAEjD,KAAKF,MAAMD,MAAME,cAAc;gBAC9B,IAAIF,MAAME,cAAc6E,SAASA,UAAU/E,MAAME;gBACjD,IAAIF,MAAME,cAAc8E,SAASA,UAAUhF,MAAME;;YAElD,KAAKD,MAAMD,MAAM4C,MAAM;gBACtB,IAAI5C,MAAM4C,MAAMyC,QAAQA,SAASrF,MAAM4C;gBACvC,IAAI5C,MAAM4C,MAAM0C,QAAQA,SAAStF,MAAM4C;;YAGxCgD,KAAKC,KAAK,eAAe9L,KAAKK,UAAU4F;YACxC4F,KAAK/D,KAAK,iBAAiBiE,KAC1BF,KAAK/D,KAAK,iBAAiBiE,SAA3B,sCACgC9F,MAAMjE,OADtC,uCAC0EiE,MAAME,aADhF,kDAE4BF,MAAMG,gBAFlC;YAKDyF,KAAKC,KAAK,aAAa7F,MAAMsC;;QAG9B,SAASyD,eAAeC;YACvB,IAAIC,SAAS,GACZC,YAAY;YACbnI,QAAQC,MAAM,kBAAkBgI;YAChClY,EAAEkT,KAAKlT,EAAE,WAAU,SAAUT,GAAGmU;gBAAM,IACjC2E,OAAOrY,EAAE0T,OACT4E,YAAYD,KAAKN,KAAK;gBAC1B,KAAKO,WAAW;oBACf,OAAO;;gBAJ6B,IAMjCpG,QAAQjG,KAAKpJ,MAAMyV,YACnBC,UAAU;gBACd,KAAKpG,MAAMD,MAAME,cAAcmG,UAAUrG,MAAME,eAAe8F,UAAUM,SAAStG,MAAME,eAAe8F,UAAUO,SAASF;gBACzH,KAAKpG,MAAMD,MAAMjE,QAAQsK,UAAUrG,MAAMjE,SAASiK,UAAUQ,MAAMxG,MAAMjE,SAASiK,UAAUS,MAAMJ;gBACjG,KAAKpG,MAAMD,MAAM4C,MAAMyD,UAAUrG,MAAM4C,OAAOoD,UAAUU,QAAQ1G,MAAM4C,OAAOoD,UAAUW,QAAQN;gBAC/F,KAAKpG,MAAMD,MAAMG,iBAAiBkG,UAAUrG,MAAMG,kBAAkB6F,UAAUY,OAAO5G,MAAMG,kBAAkB6F,UAAUa,OAAOR;gBAE9H,IAAIA,SAAS;oBACZ,IAAIF,KAAKW,GAAG,YAAY;wBAEvBX,KAAKY,OAAOC,QAAQ;4BAAEC,MAAM;2BAAU,MAAMD,QAAQ;4BAAEC,MAAM;2BAAU;2BAChE;oBAGPhB;uBACM;oBACNlI,QAAQC,MAAM,uBAAuBgC;oBACrCmG,KAAKlN,IAAI,SAAS,SAASiO,KAAK;oBAChChB;;;YAGFpY,EAAE,WAAW6N,KAAKsK;YAClBnY,EAAE,eAAe6N,KAAKuK;;QAGvB,SAASiB;YAAe,gBACRrZ,EAAE,gBAAgBsZ,OAAO,WADjB,mDAClBZ,KADkB,eACdC,KADc,4BAEF3Y,EAAE,sBAAsBsZ,OAAO,WAF7B,oDAElBd,QAFkB,eAEXC,QAFW,4BAGJzY,EAAE,eAAesZ,OAAO,WAHpB,oDAGlBV,OAHkB,eAGZC,OAHY,4BAIN7Y,EAAE,aAAasZ,OAAO,WAJhB,oDAIlBR,MAJkB,eAIbC,MAJa;YAMvB,OAAO;gBAAEL;gBAAIC;gBAAIH;gBAAOC;gBAAOG;gBAAMC;gBAAMC;gBAAKC;;;QAOjD,SAASQ,6BAA6BzB;YACrC,IAAI7J,QAAQ+E,cAAc8E,KAAK/D,KAAK,YACnCG,SAASf,gBAAgB2E,KAAK/D,KAAK,iBACnC3T,OAAO0X,KAAK/D,KAAK,iBAAiBlG,QAClCV,OAAOnN,EAAE,4BAA4B6N,QACrCkH,cAAcpD;YACf,IAAIxE,QAAQ,QAAQ;gBACnB,IAAIuH,aAAa;gBACjB,OAAO;oBACNzG;oBACA7N;oBACA2U;oBACAL;oBACAR;;mBAGD,OAAO;gBACNjG;gBACA7N;gBACA2U;gBACA5H;gBACA+G;;;QAIH,IAAIpJ,SAAS+F,YAAY;YACxB7Q,EAAE,kBAAkB2K,KAAK,cAAa,SAAUpL,GAAGqO;gBAClD,OAAOA,IAAIoG,WAAW,QAAQ,IAAIA,WAAW,OAAO;;YAGrDpB,eAAO,SAAU4G;gBAAM,IAClBC,aAAa5T,OAAO7F,EAAE,yBAAyB2X,OAAO9J,SACzD6L,YAAYpJ,OAAOkG,aAAamD,SAASrJ,OAAOkG,aAAamD,SAAS,GACtEC,cAAcH,aAAaC,WACxBG,oBAAoBxI,WAAW,qBAAqB;gBAExD,IAAIwI,oBAAoB,KAAK7Z,EAAE,wBAAwBU,SAAS,GAAG;oBAAA,cAC9DoZ,SAAS9Z,EAAE,kLAAD,OAGbuR,eAAevF,QAAQ,4BAHV,YAGwCuF,eAAevF,QAAQ,2BAH/D,8BAIVyN,aAAa,IAJH,kBAIeC,WAJf,YAI4BD,YAJ5B,eAI6CzY,KAAKE,MAAOwY,YAAYD,aAAc,MAJnF;oBAQdK,OAAOC,SAAS;oBAChBD,OAAOA,OAAO;wBACb3K,WAAW;wBACX6K,QAAQ;wBACRC,OAAO;wBACPC,OAAO;wBACPC,UAAO;4BACNC,MAAM,SAAS;gCACd7I,eAAeG,WAAW;gCAC1BF,WAAW,qBAAqB;gCAChCxR,EAAEZ,MAAM0a,OAAO;;2BAJV,uCAMCF,cAAc,KAAMjH,QAAQ,IAN7B,OAMqC,SAAS;4BACnDpB,eAAeG,WAAW;4BAC1BF,WAAW,sBAAsBoI,cAAc,KAAMjH,QAAQ;4BAC7D3S,EAAEZ,MAAM0a,OAAO;6BATV,uCAWCF,cAAc,IAAKjH,QAAQ,IAX5B,OAWoC,SAAS;4BAClDpB,eAAeG,WAAW;4BAC1BF,WAAW,sBAAsBoI,cAAc,IAAKjH,QAAQ;4BAC5D3S,EAAEZ,MAAM0a,OAAO;6BAdV,uCAgBCF,cAAc,KAAMjH,QAAQ,IAhB7B,OAgBqC,SAAS;4BACnDpB,eAAeG,WAAW;4BAC1BF,WAAW,sBAAsBoI,cAAc,KAAMjH,QAAQ;4BAC7D3S,EAAEZ,MAAM0a,OAAO;6BAnBV;;;gBAwBTN;;YAIDxZ,EAAE,SAASkT,MAAK,SAAU6D,OAAOsD;gBAChCzH,eAAO,SAAU4G;oBAChB/a,KAAK6b,OAAM;wBAAY,IAClBxC,OAAO9X,EAAEqa,KACTtJ,MAAMK,OAAO0G,KAAK/D,KAAK,2BAA2BgE,KAAK,UACvDwC,WAAW,WAAWxJ,KAGtBmB,QAAQqH,6BAA6BzB,OAGrClE,cAAc9H,YAAYyO;wBAC9B,IAAI3G,aAAa;4BAChB,IAAI/B,MAAM7O,KAAK6O;4BACf,KAAK+B,YAAYK,YAAY;gCAC5BL,YAAYK,aAAa,IAAIjR,KAAK,MAAM,GAAG,GAAGmC;;4BAE/C+M,QAAQlS,EAAE+H,OAAO,IAAI6L,aAAa1B;4BAElC,IAAIL,MAAM+B,YAAYK,aAAahD,wBAAwB;gCAC1D4G,sBAAsBC,MAAM5F;gCAC5B3F,YAAYgO,UAAUrI;gCACtBsH;gCACA,OAAO;;;wBAIT,IAAInD,QAAQrT,KAAK6O;wBACjB7R,EAAErB,KAAK;4BACNqS,KAAK,GAAF,OAAKV,OAAOC,SAASiK,UAArB,aAAkClK,OAAOC,SAASkK,MAAlD,0CAAwF1J,KAAxF;4BACH5D,MAAM;4BACNuN,UAAU;4BACVC,SAAS,SAAS,QAACrb;gCAClB,IAAIuU,MAAM7T,EAAEV;gCACZ4S,QAAQyB,6BAA6BzB,OAAO2B,KAAK;gCACjDA,IAAItE;gCACJsI,sBAAsBC,MAAM5F;gCAC5B3F,YAAYgO,UAAUrI;;4BAEvBlC,OAAO,SAAS,MAAC3D;gCAChB4D,QAAQC,MAAM,oCAAoCjE,KAAKK,UAAUwL,QAAQ,gBAAgB7L,KAAKK,UAAUD;;2BAEvGuO,QAAO;4BACT,OAAO5X,KAAK6O,QAAQwE,QAAQ,KAAK;gCAChC;;4BAEDmD;;;;;YAMJ5G,eAAO,SAAU4G;gBAEhB,IAAIK,oBAAoBxI,WAAW,qBAAqB;gBACxD,IAAIwI,oBAAoB,GAAG;oBAC1BrI,WAAW,qBAAqBqI,oBAAoB;oBACpD,IAAI7Z,EAAE,wBAAwBU,UAAU,GAAG;wBAC1C8Q,WAAW,qBAAqB;wBAChC,IAAIqJ,2CAA2C;2BACzC;wBACN7a,EAAE,wBAAwB,GAAG8a;wBAC7B,OAAO;;uBAEF;oBACN,IAAID,2CAA2C;;gBAEhDrB;;;QAIF,SAASqB;YACR,IAAIE,MAAMxJ,eAAevF,QAAQ;YACjC,KAAK+O,KAAK,OAAO;YAFiC,IAG9CC,oBAAoB/O,KAAKpJ,MAAMkY,MAC/BnJ,MAAMoJ,kBAAkBC;YAC5B,IAAIrJ,KAAK;gBACRJ,WAAW,qBAAqB;gBAChCA,WAAW,qBAAqBwJ;gBAChCxJ,WAAW,2BAA2BwJ,kBAAkBta;gBACxDV,EAAE,oDAAoD4N,IAAIgE;gBAC1D5R,EAAE,gDAAgD4N,IAAI;gBACtD5N,EAAE,cAAckb,QAAQ;gBACxB,OAAO;;YAER,OAAO;;QAGR,SAASC,YAAYvN,KAAKiB,KAAKuM;YAAO,IACjCC,YAAYrb,EAAE,wBACdsb,SAASD,UAAUtH,KAAK,UACxBzF,KAAKgN,OAAO5a,SAAS;YACzBV,EAAE,aAAa;gBACdmN,MAAM;gBACNmB,IAAI,OAAOA;gBACXnC,OAAOyB;gBACPxN,MAAMgb;eACJrB,SAASsB;YACZrb,EAAE,aAAa;gBACdub,KAAK,OAAOjN;gBACZT,MAAMgB,MAAMA,MAAMjB;eAChBmM,SAASsB;;QCjSb,SAASG,yBAAyB3H;YAEjC,IAAID,cAAc9H,YAAYmG,cAAc;YAE5C2B,cAAcD,6BAA6BC,aAAaC,KAAK;YAE7DtH,YAAY0F,cAAc2B;;QAG3B,IAAI9I,SAAS8F,cAAc;YAC1BgC,eAAO,SAAU4G;gBAChBgC,yBAAyBxb,EAAEpB;gBAC3B4a;;;;QCjBF,IAAIiC,OAAO;QAEX;QCyCAC,oBAAAA,OAAaC;QACbD,oBAAAA,OAAaE;YAETC,MAAM,SAANA,IAAgBnc,GAAGmI;YAAG,IACrBiU,KAAK9b,EAAEN,GAAGqY,KAAK,cACfgE,KAAK/b,EAAE6H,GAAGkQ,KAAK;YACnB,KAAK+D,OAAOC,IAAI,OAAO;YACvB,OAAO/b,EAAEN,GAAGqY,KAAK,aAAaxC,YAAYvV,EAAE6H,GAAGkQ,KAAK,aAAaxC,YAAY,KAAK;WAE/EyG,OAAO,SAAS,KAACtc,GAAGmI;YAAG,IACtBiU,KAAK9b,EAAEN,GAAGqY,KAAK,cACfgE,KAAK/b,EAAE6H,GAAGkQ,KAAK;YACnB,KAAK+D,OAAOC,IAAI,OAAO;YACvB,OAAO/b,EAAEN,GAAGqY,KAAK,aAAaxC,YAAYvV,EAAE6H,GAAGkQ,KAAK,aAAaxC,aAAa,IAAI;WAE/E0G,0BAA0B,SAAS,wBAACC;YACvC,IAAIb,YAAYrb,EAAE,sBACjBmc,iBAAiBd,UAAUtH,KAAK,SAASqI,SAASC,KAAKH;YACxDb,UAAUiB,OAAOH;;QAOlB,SAASI;YAIR,IAAIC,WAAW;YACfxc,EAAEkT,KAAKuJ,kBAAiB,SAAUld,GAAGmU;gBACpC,IAAIA,KAAKsC,WAAW,WAAW;oBAC9B,IAAIhX,IAAI8M,YAAY4H;oBACpB1U,EAAE+R,MAAM2C,KAAKpO,MAAM,GAAGoO,KAAKhT;oBAC3B8b,SAASjI,KAAKvV;;;YAGhB,IAAI0d,SAAS;YACbF,WAAWA,SACTH,MAAK,SAAUM,IAAIC;gBACnB,IAAID,GAAGnI,aAAaoI,GAAGpI,WAAW,OAAOmI,GAAGtK,iBAAiBuK,GAAGvK,kBAAkB,IAAI;gBACtF,OAAOsK,GAAGnI,YAAYoI,GAAGpI,aAAa,IAAI;gBAE1CnB,KAAI,SAACzF,KAAKiP;gBACV,IAAI1K,MAAMuK,OAAO9O,IAAIT,QAAQ;oBAC5BuP,OAAO9O,IAAIT,QAAQ;uBACb;oBACNuP,OAAO9O,IAAIT,SAAS;;gBAErBS,IAAIkP,OAAOJ,OAAO9O,IAAIT;gBACtB,OAAOS;;YAET,OAAO4O;;QAER,SAASO,YAAY/d;YACpB,IAAIA,GAAG;gBACN,IAAIge,UAAU;gBACd,IAAIhe,EAAE8d,QAAQnN,KAAKsN,aAAa;oBAC/BD,UAAU;;gBAEX,2CAAoCA,SAApC,aAAgDhe,EAAE8d,MAAlD;mBACM;gBACN;;;QAGF,IAAIhS,SAAS+F,cAAc/F,SAAS8F,cAAc;YAEjDgC,eAAO,SAAU4G;gBAChB;oBACC,IAAI9J,SAAS5D,YAAY,gBAAgB;wBACxC4M,IAAItB,aAAF,QAAEA,kBAAF,IAAEA,WAAY;wBAChBuB,IAAIxB,aAAF,QAAEA,kBAAF,IAAEA,WAAY;wBAChBqB,OAAOtB,YAAF,QAAEA,iBAAF,IAAEA,UAAW;wBAClBuB,OAAOxB,YAAF,QAAEA,iBAAF,IAAEA,UAAW;wBAClB2B,MAAMpB,WAAF,QAAEA,gBAAF,IAAEA,SAAU;wBAChBqB,MAAMtB,WAAF,QAAEA,gBAAF,IAAEA,SAAU;wBAChBuB,KAAKxB,UAAF,QAAEA,eAAF,IAAEA,QAAS;wBACdyB,KAAK1B,UAAF,QAAEA,eAAF,IAAEA,QAAS;;oBAGfrX,EAAE,QAAQsc,OAAOY;oBACjB,KAAKpS,SAAS+F,YAAY;wBACzB7Q,EAAE,kBAAkBoZ;;oBAErBpZ,EAAE,QAAQsc,OAAO;oBACjBtc,EAAE,QAAQsc,OAAO;oBACjBtc,EAAE,gBACAsZ,OAAO;wBACP6D,OAAO;wBACPzX,KAAK0R,WAAW;wBAChB/J,KAAK8J,WAAW;wBAChBjJ,QAAQ,EAACwB,OAAOgJ,KAAKtB,WAAW,IAAIA,WAAW,IAAI1H,OAAOgJ,IAAIvB;wBAC9DiG,OAAO,SAAS,MAACC,OAAOC;4BACvBtd,EAAE,iBAAiBgY,KAAKsF,GAAGpP,OAAO,KAAK,QAAQoP,GAAGpP,OAAO;;uBAG1DqP,GAAG,cAAa,SAAUF,OAAOC;wBAAI,IACjCrd,IAAID,EAAEZ,MAAMka,OAAO,WACnBpB,YAAYmB,gBACZmE,eAAe1R,YAAY,gBAAgBoM;wBAC/CsF,aAAa9E,KAAKzY,EAAE;wBACpBud,aAAa7E,KAAK1Y,EAAE;wBACpBsM,YAAY,gBAAgBiR;wBAC5BvF,eAAeC;;oBAEjBlY,EAAE,aACAsZ,OAAO;wBACP6D,OAAO;wBACPzX,KAAK4R,QAAQ;wBACbjK,KAAKgK,QAAQ;wBACbnJ,QAAQ,EAACwB,OAAOoJ,KAAKpJ,OAAOqJ;wBAC5BqE,OAAO,SAAS,MAACC,OAAOC;4BACvBtd,EAAE,SAASgY,KAAKsF,GAAGpP,OAAO,KAAK,QAAQoP,GAAGpP,OAAO;;uBAGlDqP,GAAG,cAAa,SAAUF,OAAOC;wBAAI,IACjCG,KAAKzd,EAAEZ,MAAMka,OAAO,WACpBpB,YAAYmB,gBACZmE,eAAe1R,YAAY,gBAAgBoM;wBAC/CsF,aAAa1E,MAAM2E,GAAG;wBACtBD,aAAazE,MAAM0E,GAAG;wBACtBlR,YAAY,gBAAgBiR;wBAC5BvF,eAAeC;;oBAEjBlY,EAAE,sBACAsZ,OAAO;wBACP6D,OAAO;wBACPzX,KAAKwR;wBACL7J,KAAK4J;wBACL/I,QAAQ,EAACwB,OAAO8I,OAAO9I,OAAO+I;wBAC9B2E,OAAO,SAAS,MAACM,QAAQJ;4BACxBtd,EAAE,iBAAiBgY,KAAKsF,GAAGpP,OAAO,KAAK,SAASoP,GAAGpP,OAAO,KAAK;;uBAGhEqP,GAAG,cAAa,SAAUF,OAAOC;wBAAI,IACjCK,OAAO3d,EAAE,sBAAsBsZ,OAAO,WACtCpB,YAAYmB,gBACZmE,eAAe1R,YAAY,gBAAgBoM;wBAC/CsF,aAAahF,QAAQmF,KAAK;wBAC1BH,aAAa/E,QAAQkF,KAAK;wBAC1BpR,YAAY,gBAAgBiR;wBAC5BvF,eAAeC;;oBAGjBlY,EAAE,eACAsZ,OAAO;wBACP6D,OAAO;wBACPzX,KAAK8R;wBACLnK,KAAKkK;wBACLrJ,QAAQ,EAACwB,OAAOkJ,OAAOpB,SAASA,SAAS9H,OAAOkJ,MAAMlJ,OAAOmJ,OAAOtB,SAASA,SAAS7H,OAAOmJ;wBAC7FuE,OAAO,SAAS,MAACC,OAAOC;4BACvBtd,EAAE,UAAUgY,KAAKsF,GAAGpP,OAAO,KAAK,QAAQoP,GAAGpP,OAAO;;uBAGnDqP,GAAG,cAAa,SAAUF,OAAOC;wBAAI,IACjCxI,MAAM9U,EAAEZ,MAAMka,OAAO,WACrBpB,YAAYmB,gBACZmE,eAAe1R,YAAY,gBAAgBoM;wBAC/CsF,aAAa5E,OAAO9D,IAAI;wBACxB0I,aAAa3E,OAAO/D,IAAI;wBAExBvI,YAAY,gBAAgBiR;wBAC5BvF,eAAeC;;oBAEjBlY,EAAE,6CAEA4d,GAAG,GACHlP,OAAO;wBAAEmP,MAAM;wBAA0BC,WAAW;uBACpDhD,OAAM;wBACN9a,EAAE,SAASiZ;wBACXjZ,EAAEZ,MAAMga;wBACR6C,wBAAwBJ;wBAExBkC,MAEAH,GAAG,GACHlP,OAAO;wBAAEmP,MAAM;wBAA0BC,WAAW;uBACpDhD,OAAM;wBACN9a,EAAE,QAAQiZ;wBACVjZ,EAAEZ,MAAMga;wBACR6C,wBAAwBD;wBAExB+B,MAEAH,GAAG,GACHI,QAAQ;wBACRtY,KAAK;wBACLuY,MAAM,SAAS,KAACZ,OAAOC;4BACtB/Q,YAAY,kBAAkB+Q,GAAGnR;;uBAGlChB,IAAI;wBAAE8O,OAAO;uBACbrM,IAAI9B,YAAY,kBAAkBmF,yBAAyB,OAC3DmI,OACA2E,MAEAH,GAAG,GACHlP,OAAO;wBAAEmP,MAAM;wBAAgBC,WAAW;uBAC1ChD,OAAM;wBACN,IAAI5F,OAAOuH;wBACXzc,EAAEkT,KAAKgC,OAAM,SAAU3V,GAAGmU;4BACzB,IAAIwK,QAAQ,QAAH,OAAW3e,GAAX;4BACTqT,eAAO,SAAUuL;gCAChB;oCACCne,EAAE,SAASgY,KAAKkG;oCAChBE,eAAe1K;kCAFhB;oCAICyK;;;;wBAIHne,EAAE,cAAc8a;wBAEhBiD,MAEAH,GAAG,GACHlP,OAAO;wBAAEmP,MAAM;wBAAmBC,WAAW;uBAC7CnT,KAAK,QAAQ,qHACbA,KAAK,UAAU,UACfoT,MAEAH,GAAG,GACHlP,OAAO;wBAAEmP,MAAM;wBAAgBC,WAAW;uBAC1CnT,KAAK,QAAQ,qFACbA,KAAK,UAAU,UACfoT;oBACF/d,EAAE,oBAEA4d,GAAG,GACHlP,OAAO;wBAAEmP,MAAM;wBAAqBC,WAAW;uBAC/ChD,OAAM;wBACN9a,EAAE,6BAA6BkT,MAAK,SAAU3T,GAAGmU;4BAChD1T,EAAE0T,MAAM/I,KAAK,YAAY3K,EAAE0T,MAAMsF,GAAG,aAAaqF;;wBAGlDN,MAEAH,GAAG,GACHlP,OAAO;wBAAEmP,MAAM;wBAAqBC,WAAW;uBAC/ChD,OAAM;wBACNE,oBAAoB;wBACpBhb,EAAE,6BAA6BkT,MAAK,SAAU3T,GAAGmU;4BAChD,IAAI1T,EAAE0T,MAAMsF,GAAG,aAAa;gCAC3BgC,kBAAkBzG,KAAKvU,EAAE0T,MAAM9F;;;wBAGjC4D,WAAW,qBAAqBwJ;wBAChCxJ,WAAW,0BAA0BwJ,kBAAkBta;wBACvDma;wBAEAkD;oBAEF/d,EAAE,sDAAsDkT,MAAK,SAAU3T,GAAGmU;wBACzEyH,YAAYnb,EAAE0T,MAAMqE,KAAK,aAAa/X,EAAE0T,MAAM7F;;oBAE/C,IAAIyQ,WAAW/M,eAAevF,QAAQ,sBACrCgP,oBAAoB;oBACrB,IAAIsD,UAAU;wBACbtD,oBAAoB/O,KAAKpJ,MAAMyb;wBAC/B,IAAItD,kBAAkBta,SAAS,GAAG;4BACjC,IAAInB,IAAIyb,kBAAkBta;4BAC1B,OAAOnB,KAAK;gCACXS,EAAE,sCAAsCgb,kBAAkBzb,KAAK,MAAMwY,KAAK,WAAW;;+BAEhF;4BACN/X,EAAE,sCAAsCA,EAAE,4BAA4B4N,QAAQ,MAAMmK,KAAK,WAAW;;2BAE/F;wBACN/X,EAAE,sCAAsCA,EAAE,4BAA4B4N,QAAQ,MAAMmK,KAAK,WAAW;;oBAErG/X,EAAE,uBAAuB+T,KAAK,SAASwK,cAAc;wBACpDV,MAAM;;oBAGP7d,EAAE,SAASwe,KAAK;wBACfC,QAAQ;wBACRC,UAAU,SAAS,SAACrB,OAAOC;4BAC1B,IAAIA,GAAGqB,SAAS5G,KAAK,SAAS,UAAU;4BACxC,IAAIyE,WAAWD;4BACfvc,EAAE,eAEA4e,OAAO;gCACPvS,MAAMmQ;gCACNqC,UAAU;gCACV7E,QAAQ;gCACR8E,UAAU,EAAC,KAAK,MAAM,MAAM,QAAQ,KAAK,KAAK,KAAK,MAAM,OAAO,KAAK,MAAM,KAAK,KAAK,KAAK;gCAC1FC,UAAU,EAET;oCACC3e,MAAM;oCACN2W,OAAO;oCACPkD,OAAO;oCACP+E,UAAU;oCACVC,OAAO;oCACPC,eAAe;wCACdC,MAAM,EAAC;;oCAERC,WAAW,SAASA,UAAUjT,OAAOqB,SAAS6R;wCAC7C,IAAIle,OAAOua,mBAAAA,CAAMvP;wCACjB,IAAIhL,KAAKqD,WAAW;4CACnB,8BAAuBrD,KAAK6E,OAAO,iBAAnC,aAAuD7E,KAAK6E,OAAO,WAAnE;;wCAED,OAAOmG;;mCAGT;oCACC/L,MAAM;oCACN2W,OAAO;oCACPkD,OAAO;oCACP+E,UAAU;oCACVC,OAAO;oCACPC,eAAe;wCACdC,MAAM,EAAC;wCACPG,cAActf,EAAE,4BAA4B6N,UAAU,SAAS,KAAK7N,EAAE,4BAA4B6N;;oCAEnGuR,WAAW,SAASA,UAAUjT,OAAOqB,SAAS6R;wCAC7C,IAAIlT,OAAO,OAAOA,YACb,OAAO;;mCAGd;oCAAE/L,MAAM;oCAAQ2W,OAAO;oCAAQkD,OAAO;oCAAI+E,UAAU;oCAASC,OAAO;oCAASC,eAAe;wCAAEC,MAAM,EAAC;;mCACrG;oCACC/e,MAAM;oCACN2W,OAAO;oCACPkD,OAAO;oCACP+E,UAAU;oCACVI,WAAW,SAASA,UAAUjT,OAAOqB,SAAS6R;wCAC7C,OAAO,oDAAoDA,MAAM,SAAS,2CAA2ClT,QAAQA,QAAQkT,MAAM,UAAU;;mCAGvJ;oCACCjf,MAAM;oCACN2W,OAAO;oCACPkD,OAAO;oCACP+E,UAAU;oCACVC,OAAO;oCACPC,eAAe;wCAAEC,MAAM,EAAC;;oCACxBC,WAAW,SAASA,UAAUjT,OAAOqB,SAAS6R;wCAC7C,IAAIlT,OAAO,OAAO,WACb,OAAO;;mCAGd;oCAAE/L,MAAM;oCAAa2W,OAAO;oCAAakD,OAAO;oCAAI+E,UAAU;oCAASC,OAAO;oCAASC,eAAe;wCAAEC,MAAM,EAAC;;mCAC/G;oCAAE/e,MAAM;oCAAS2W,OAAO;oCAASkD,OAAO;oCAAIgF,OAAO;oCAASC,eAAe;wCAAEC,MAAM,EAAC;;mCACpF;oCAAE/e,MAAM;oCAAe2W,OAAO;oCAAekD,OAAO;oCAAIgF,OAAO;oCAASD,UAAU;oCAASE,eAAe;wCAAEC,MAAM,EAAC;;mCACnH;oCAAE/e,MAAM;oCAAkB2W,OAAO;oCAAkBkD,OAAO;oCAAIgF,OAAO;oCAASD,UAAU;oCAASE,eAAe;wCAAEC,MAAM,EAAC;;mCACzH;oCAAE/e,MAAM;oCAAU2W,OAAO;oCAAUkD,OAAO;oCAAI+E,UAAU;oCAAUC,OAAO;oCAAQC,eAAe;wCAAEC,MAAM,EAAC,MAAM;;mCAC/G;oCAAE/e,MAAM;oCAAQ2W,OAAO;oCAAQkD,OAAO;oCAAI+E,UAAU;oCAASC,OAAO;oCAASC,eAAe;wCAAEC,MAAM,EAAC;;mCACrG;oCAAE/e,MAAM;oCAAW2W,OAAO;oCAAWkD,OAAO;oCAAIgF,OAAO;oCAASD,UAAU;oCAASE,eAAe;wCAAEC,MAAM,EAAC;;mCAC3G;oCAAE/e,MAAM;oCAAa2W,OAAO;oCAAakD,OAAO;oCAAI+E,UAAU;oCAASC,OAAO;mCAC9E;oCAAE7e,MAAM;oCAAO2W,OAAO;oCAAOkD,OAAO;oCAAI+E,UAAU;oCAASC,OAAO;oCAASC,eAAe;wCAAEC,MAAM,EAAC,MAAM,MAAM;;mCAC/G;oCACC/e,MAAM;oCACN2W,OAAO;oCACPkD,OAAO;oCACP+E,UAAU;oCACVC,OAAO;oCACPC,eAAe;wCAAEC,MAAM,EAAC;;oCACxBC,WAAW,SAASA,UAAUjT,OAAOqB,SAAS6R;wCAC7C,IAAIlT,OAAO;4CACV,OAAOuP,mBAAAA,CAAMvP,OAAOxC,QAAQ;+CAWtB,OAAO;;;gCAIjB4V,aAAa;gCACbC,QAAQ;gCACRC,SAAS,EAAC,GAAG,IAAI,IAAI;gCACrBC,OAAO;gCACPC,UAAU;gCACVC,aAAa;gCACbC,WAAW;gCACXC,WAAW;gCACXC,UAAU;gCAEVC,YAAY;gCACZC,KAAK;gCAGLhG,OAAO;+BAGP2E,OAAO,iBAAiB;gCACxBsB,iBAAiB;+BACf,GACFC;4BACF,IAAIrV,SAAS+F,YAAY;gCACxB7Q,EAAEkT,KAAKlT,EAAE,WAAU,SAAUT,GAAGmU;oCAAM,IACjCoE,OAAO9X,EAAE0T,OACT3C,MAAM+G,KAAK/D,KAAK,2BAA2BgE,KAAK,QAAQhW,QAAlD,UAA6DuO,OAAOC,SAASiK,UAA7E,aAA0FlK,OAAOC,SAASkK,MAA1G,sBAAmI,KACzIzb,IAAIwd,SAASzI,MAAK,SAACqM,cAAcrJ,OAAOpB;wCAC3C,OAAOyK,aAAarP,OAAOA;yCAExBsP,KAAKvI,KAAK/D,KAAK;oCACnB,IAAIsM,GAAG3f,UAAU,GAAGoX,KAAK/D,KAAK,iBAAiBiE,KAA3B,UAAmCF,KAAK/D,KAAK,iBAAiBiE,QAA9D,aAAyE+E,YAAY/d,WACpGqhB,GAAGC,YAAYvD,YAAY/d;;;4BAGlC,IAAI8L,SAAS8F,cAAc;gCAC1B,IAAI5R,IAAIwd,SAASzI,MAAK,SAACqM,cAAcrJ,OAAOpB;oCAC3C,OAAOyK,aAAarP,OAAOK;;gCAE5BpR,EAAE,gBAAgBgY,KAAK+E,YAAY/d;;;;oBAItC,IAAIuhB,gBAAgBlH;oBACpBpB,eAAesI;oBACfvgB,EAAE,UAAUgY,KAAKuI,cAAc3H,OAAO,QAAQ2H,cAAc1H;oBAC5D7Y,EAAE,iBAAiBgY,KAAKuI,cAAc7H,KAAK,QAAQ6H,cAAc5H;oBACjE3Y,EAAE,SAASgY,KAAKuI,cAAczH,MAAM,QAAQyH,cAAcxH,MAAM;oBAChE/Y,EAAE,iBAAiBgY,KAAKuI,cAAc/H,QAAQ,SAAS+H,cAAc9H,QAAQ;kBAC5E,OAAO+H;oBACRvQ,QAAQC,MAAMsQ,KAAK;oBACnB,MAAMA;kBApWP;oBAsWChH;;;YAKF5G,eAAO,SAAU4G;gBAChBxZ,EAAE,aAAaygB,OAAOzgB,EAAE,aAAa2K,KAAK;gBAC1C3K,EAAE,mBAAmBsc,OAAOtc,EAAE,aAAa2K,KAAK;gBAChDsR,wBAAwBD;gBACxBhc,EAAE,SAASwe,KAAK,UAAU,UAAU;gBACpC,IAAI1T,SAAS8F,cAAc;oBAC1B5Q,EAAE,SAASwe,KAAK,UAAU,YAAY,EAAC;;gBAExCxe,EAAE,iBAAiB8Z,OAAO;oBACzBG,OAAO;;gBAERja,EAAE,iBAAiB0gB,SAASC;gBAC5B3gB,EAAE,iBAAiB8Z,OAAO;gBAC1BN;;;QAGF,IAAI1O,SAAS4F,cAAc;YAC1BkC,eAAO,SAAU4G;gBAChBxZ,EAAE,gBAAgB4gB,YAAY,eAAeC,SAAS;gBACtD7gB,EAAE,mBAAmB4gB,YAAY,eAAe7I,KAAK,OAAO;gBAC5DyB","sources":["webpack://userscripts/./src/findteacherson51talk/pacesetup.js","webpack://userscripts/./node_modules/dayjs/dayjs.min.js","webpack://userscripts/./node_modules/dayjs/locale/zh-cn.js","webpack://userscripts/./node_modules/dayjs/plugin/relativeTime.js","webpack://userscripts/webpack/bootstrap","webpack://userscripts/webpack/runtime/compat get default export","webpack://userscripts/webpack/runtime/define property getters","webpack://userscripts/webpack/runtime/hasOwnProperty shorthand","webpack://userscripts/./src/findteacherson51talk/gm_config.js","webpack://userscripts/./src/findteacherson51talk/bestteacher_gm_toolbar.js","webpack://userscripts/./src/findteacherson51talk/common.js","webpack://userscripts/./libs/propertiesCaseInsensitive.mjs","webpack://userscripts/./src/findteacherson51talk/jqueryextend.js","webpack://userscripts/./src/findteacherson51talk/listpage.js","webpack://userscripts/./src/findteacherson51talk/detailpage.js","webpack://userscripts/./src/findteacherson51talk/pluginUITemplate.html","webpack://userscripts/./src/findteacherson51talk/findingteacher.user.js"],"sourcesContent":[" \r\n// xxxxxxxxxxxxxx\r\n\r\n\r\nPace.Options = {\r\n\tajax: false, // disabled\r\n\tdocument: false, // disabled\r\n\teventLag: false, // disabled\r\n\telements: {\r\n\t\tselectors: [\"#filterDialog\"],\r\n\t},\r\n}\r\n  ","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",$=\"Invalid Date\",l=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},g={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},D=\"en\",v={};v[D]=M;var p=function(t){return t instanceof _},S=function(t,e,n){var r;if(!t)return D;if(\"string\"==typeof t)v[t]&&(r=t),e&&(v[t]=e,r=t);else{var i=t.name;v[i]=t,r=i}return!n&&r&&(D=r),r||!n&&D},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=g;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===$)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),$=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},l=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,g=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?$(1,0):$(31,11);case f:return r?$(1,M):$(0,M+1);case o:var D=this.$locale().weekStart||0,v=(y<D?y+7:y)-D;return $(r?m-v:m+(6-v),M);case a:case d:return l(g+\"Hours\",0);case u:return l(g+\"Minutes\",1);case s:return l(g+\"Seconds\",2);case i:return l(g+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),$=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],l=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[$](l),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,$=this;r=Number(r);var l=O.p(h),y=function(t){var e=w($);return O.w(e.date(e.date()+Math.round(t*r)),$)};if(l===f)return this.set(f,this.$M+r);if(l===c)return this.set(c,this.$y+r);if(l===a)return y(1);if(l===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[l]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||$;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].substr(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||l[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,$){var l,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,g=this-M,D=O.m(this,M);return D=(l={},l[c]=D/12,l[f]=D,l[h]=D/3,l[o]=(g-m)/6048e5,l[a]=(g-m)/864e5,l[u]=g/n,l[s]=g/e,l[i]=g/t,l)[y]||g,$?D:O.a(D)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return v[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),b=_.prototype;return w.prototype=b,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=v[D],w.Ls=v,w.p={},w}));","!function(e,_){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=_(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],_):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_locale_zh_cn=_(e.dayjs)}(this,(function(e){\"use strict\";function _(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var t=_(e),d={name:\"zh-cn\",weekdays:\"星期日_星期一_星期二_星期三_星期四_星期五_星期六\".split(\"_\"),weekdaysShort:\"周日_周一_周二_周三_周四_周五_周六\".split(\"_\"),weekdaysMin:\"日_一_二_三_四_五_六\".split(\"_\"),months:\"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月\".split(\"_\"),monthsShort:\"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月\".split(\"_\"),ordinal:function(e,_){switch(_){case\"W\":return e+\"周\";default:return e+\"日\"}},weekStart:1,yearStart:4,formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"YYYY/MM/DD\",LL:\"YYYY年M月D日\",LLL:\"YYYY年M月D日Ah点mm分\",LLLL:\"YYYY年M月D日ddddAh点mm分\",l:\"YYYY/M/D\",ll:\"YYYY年M月D日\",lll:\"YYYY年M月D日 HH:mm\",llll:\"YYYY年M月D日dddd HH:mm\"},relativeTime:{future:\"%s内\",past:\"%s前\",s:\"几秒\",m:\"1 分钟\",mm:\"%d 分钟\",h:\"1 小时\",hh:\"%d 小时\",d:\"1 天\",dd:\"%d 天\",M:\"1 个月\",MM:\"%d 个月\",y:\"1 年\",yy:\"%d 年\"},meridiem:function(e,_){var t=100*e+_;return t<600?\"凌晨\":t<900?\"早上\":t<1100?\"上午\":t<1300?\"中午\":t<1800?\"下午\":\"晚上\"}};return t.default.locale(d,null,!0),d}));","!function(r,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(r=\"undefined\"!=typeof globalThis?globalThis:r||self).dayjs_plugin_relativeTime=e()}(this,(function(){\"use strict\";return function(r,e,t){r=r||{};var n=e.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};function i(r,e,t,o){return n.fromToBase(r,e,t,o)}t.en.relativeTime=o,n.fromToBase=function(e,n,i,d,u){for(var f,a,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(f=d?t(e).diff(i,y.d,!0):i.diff(e,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(f));if(s=f>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(\"\"+p)),a=\"string\"==typeof v?v.replace(\"%d\",p):v(p,n,y.l,s);break}}if(n)return a;var M=s?l.future:l.past;return\"function\"==typeof M?M(a):M.replace(\"%s\",a)},n.to=function(r,e){return i(r,e,this,!0)},n.from=function(r,e){return i(r,e,this)};var d=function(r){return r.$u?t.utc():t()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}}));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// ==UserScript==\r\n// @name         gm_config_toolbar\r\n// @version      2020.4.20\r\n// @namespace    https://github.com/niubilityfrontend\r\n// @description  greasyfork configuration toolbar on the script addins\r\n// @author       kufii\r\n// @license      OSL-3.0\r\n// @match *\r\n// @include *\r\n// @supportURL   https://github.com/kufii/My-UserScripts\r\n// @grant        GM_xmlhttpRequest\r\n// @grant        GM_getValue\r\n// @grant        GM_setValue\r\n// @grant        GM_listValues\r\n// @grant        GM_deleteValue\r\n// @grant        GM_registerMenuCommand\r\n// ==/UserScript==\r\n\r\nlet GM_config = function (settings, storage = 'cfg') {\r\n  let ret = null;\r\n  const prefix = 'gm-config';\r\n  const addStyle = function () {\r\n    const css = `\r\n\t\t\t\t.${prefix} {\r\n\t\t\t\t\tdisplay: grid;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tgrid-row-gap: 5px;\r\n\t\t\t\t\tgrid-column-gap: 10px;\r\n\t\t\t\t\tbackground-color: white;\r\n\t\t\t\t\tborder: 1px solid black;\r\n\t\t\t\t\tpadding: 5px;\r\n\t\t\t\t\tposition: fixed;\r\n\t\t\t\t\ttop: 0;\r\n\t\t\t\t\tright: 0;\r\n\t\t\t\t\tz-index: 2147483647;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.${prefix} label {\r\n\t\t\t\t\tgrid-column: 1 / 2;\r\n\t\t\t\t\tcolor: black;\r\n\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\tfont-size: small;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.${prefix} input,\r\n\t\t\t\t.${prefix} textarea,\r\n\t\t\t\t.${prefix} select {\r\n\t\t\t\t\tgrid-column: 2 / 4;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.${prefix} .${prefix}-save {\r\n\t\t\t\t\tgrid-column: 2 / 3;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.${prefix} .${prefix}-cancel {\r\n\t\t\t\t\tgrid-column: 3 / 4;\r\n\t\t\t\t}\r\n\t\t\t`;\r\n    if (typeof GM_addStyle === 'undefined') {\r\n      const style = document.createElement('style');\r\n      style.textContent = css;\r\n      document.head.appendChild(style);\r\n    } else {\r\n      GM_addStyle(css);\r\n    }\r\n  };\r\n  const load = function () {\r\n    const defaults = {};\r\n    settings.forEach(({\r\n      key,\r\n      default: def\r\n    }) => defaults[key] = def);\r\n    let cfg = (typeof GM_getValue !== 'undefined') ? GM_getValue(storage) : localStorage.getItem(storage);\r\n    if (!cfg) return defaults;\r\n    cfg = JSON.parse(cfg);\r\n    Object.entries(defaults).forEach(([key, value]) => {\r\n      if (typeof cfg[key] === 'undefined') {\r\n        cfg[key] = value;\r\n      }\r\n    });\r\n    return cfg;\r\n  };\r\n  const save = function (cfg) {\r\n    const data = JSON.stringify(cfg);\r\n    (typeof GM_setValue !== 'undefined') ? GM_setValue(storage, data): localStorage.setItem(storage, data);\r\n  };\r\n  const setup = function () {\r\n    const createContainer = function () {\r\n      const form = document.createElement('form');\r\n      form.classList.add(prefix);\r\n      return form;\r\n    };\r\n    const createTextbox = function (name, value, placeholder, maxLength, multiline, resize) {\r\n      const input = document.createElement(multiline ? 'textarea' : 'input');\r\n      if (multiline) {\r\n        input.style.resize = resize ? 'vertical' : 'none';\r\n      } else {\r\n        input.type = 'text';\r\n      }\r\n      input.name = name;\r\n      if (typeof value !== 'undefined') input.value = value;\r\n      if (placeholder) input.placeholder = placeholder;\r\n      if (maxLength) input.maxLength = maxLength;\r\n      return input;\r\n    };\r\n    const createNumber = function (name, value, placeholder, min, max, step) {\r\n      const input = createTextbox(name, value, placeholder);\r\n      input.type = 'number';\r\n      if (typeof min !== 'undefined') input.min = min;\r\n      if (typeof max !== 'undefined') input.max = max;\r\n      if (typeof step !== 'undefined') input.step = step;\r\n      return input;\r\n    };\r\n    const createSelect = function (name, options, value, showBlank) {\r\n      const select = document.createElement('select');\r\n      select.name = name;\r\n      const createOption = function (val) {\r\n        const {\r\n          value = val, text = val\r\n        } = val;\r\n        const option = document.createElement('option');\r\n        option.value = value;\r\n        option.textContent = text;\r\n        return option;\r\n      };\r\n      if (showBlank) {\r\n        select.appendChild(createOption(''));\r\n      }\r\n      options.forEach(opt => {\r\n        if (typeof opt.optgroup !== 'undefined') {\r\n          const optgroup = document.createElement('optgroup');\r\n          optgroup.label = opt.optgroup;\r\n          select.appendChild(optgroup);\r\n          opt.values.forEach(value => optgroup.appendChild(createOption(value)));\r\n        } else {\r\n          select.appendChild(createOption(opt));\r\n        }\r\n      });\r\n      select.value = value;\r\n      return select;\r\n    };\r\n    const createCheckbox = function (name, checked) {\r\n      const checkbox = document.createElement('input');\r\n      checkbox.id = `${prefix}-${name}`;\r\n      checkbox.type = 'checkbox';\r\n      checkbox.name = name;\r\n      checkbox.checked = checked;\r\n      return checkbox;\r\n    };\r\n    const createButton = function (text, onclick, classname) {\r\n      const button = document.createElement('button');\r\n      button.classList.add(`${prefix}-${classname}`);\r\n      button.textContent = text;\r\n      button.onclick = onclick;\r\n      return button;\r\n    };\r\n    const createLabel = function (label, htmlFor) {\r\n      const lbl = document.createElement('label');\r\n      if (htmlFor) lbl.htmlFor = htmlFor;\r\n      lbl.textContent = label;\r\n      return lbl;\r\n    };\r\n    const init = function (cfg) {\r\n      const controls = {};\r\n      const div = createContainer();\r\n      settings.filter(({\r\n        type\r\n      }) => type !== 'hidden').forEach(setting => {\r\n        const value = cfg[setting.key];\r\n        let control;\r\n        if (setting.type === 'text') {\r\n          control = createTextbox(setting.key, value, setting.placeholder, setting.maxLength, setting.multiline, setting.resizable);\r\n        } else if (setting.type === 'number') {\r\n          control = createNumber(setting.key, value, setting.placeholder, setting.min, setting.max, setting.step);\r\n        } else if (setting.type === 'dropdown') {\r\n          control = createSelect(setting.key, setting.values, value, setting.showBlank);\r\n        } else if (setting.type === 'bool') {\r\n          control = createCheckbox(setting.key, value);\r\n        }\r\n        div.appendChild(createLabel(setting.label, control.id));\r\n        div.appendChild(control);\r\n        controls[setting.key] = control;\r\n        control.addEventListener(setting.type === 'dropdown' ? 'change' : 'input', () => {\r\n          if (ret.onchange) {\r\n            const control = controls[setting.key];\r\n            const value = setting.type === 'bool' ? control.checked : control.value;\r\n            ret.onchange(setting.key, value);\r\n          }\r\n        });\r\n      });\r\n      div.appendChild(createButton('Save', () => {\r\n        settings.filter(({\r\n          type\r\n        }) => type !== 'hidden').forEach(({\r\n          key,\r\n          type\r\n        }) => {\r\n          const control = controls[key];\r\n          cfg[key] = type === 'bool' ? control.checked : control.value;\r\n        });\r\n        save(cfg);\r\n        if (ret.onsave) {\r\n          ret.onsave(cfg);\r\n        }\r\n        div.remove();\r\n      }, 'save'));\r\n      div.appendChild(createButton('Cancel', () => {\r\n        if (ret.oncancel) {\r\n          ret.oncancel(cfg);\r\n        }\r\n        div.remove();\r\n      }, 'cancel'));\r\n      document.body.appendChild(div);\r\n    };\r\n    init(load());\r\n  };\r\n  addStyle();\r\n  ret = {\r\n    load,\r\n    save,\r\n    setup\r\n  };\r\n  return ret;\r\n}\r\n\r\nexport {\r\n  GM_config\r\n}","import { GM_config } from \"./gm_config\";\r\n\r\nconst config = GM_config([\r\n\t{\r\n\t\tkey: \"pageMaxCount\",\r\n\t\tlabel: \"最大页数 (自动获取时)\",\r\n\t\tdefault: 20,\r\n\t\ttype: \"dropdown\",\r\n\t\tvalues: [0, 5, 10, 20, 50, 1000],\r\n\t},\r\n\t{\r\n\t\tkey: \"newBatcherKeyMinutes\",\r\n\t\tlabel: \"排名缓存（分钟）,0为每次更新\",\r\n\t\tdefault: 23,\r\n\t\ttype: \"dropdown\",\r\n\t\tvalues: [0, 1, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 179, 181, 191, 193, 197, 199],\r\n\t},\r\n\t{\r\n\t\tkey: \"tInfoExprHours\",\r\n\t\tlabel: \"教师数据缓存过期时间（小时）\",\r\n\t\tdefault: 139,\r\n\t\ttype: \"dropdown\",\r\n\t\tvalues: [0, 1, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 179, 181, 191, 193, 197, 199],\r\n\t},\r\n\t{\r\n\t\tkey: \"markRankRed\",\r\n\t\tlabel: \"突出前N名教师的名次\",\r\n\t\tdefault: 120,\r\n\t\ttype: \"dropdown\",\r\n\t\tvalues: [5, 10, 30, 50, 120, 500, 3000, 5000, 10080],\r\n\t},\r\n\r\n\t{\r\n\t\t// The key for the setting.\r\n\t\tkey: \"calcIndicator\",\r\n\r\n\t\t// The label that'll be used for the setting in the UI.\r\n\t\tlabel: \"[高级]排名公式\",\r\n\r\n\t\t// Optional. The default value for the setting.\r\n\t\tdefault: \"\",\r\n\r\n\t\t// What type of setting it is.\r\n\t\ttype: \"text\",\r\n\t\t// Optional. Placeholder text for the textbox.\r\n\t\tplaceholder: \"Math.ceil((t.label * t.thumbUpRate) / 100) + t.favoritesCount\",\r\n\r\n\t\t// Optional. If true, shows a textarea instead of a text input. Defaults to false.\r\n\t\tmultiline: true,\r\n\r\n\t\t// Optional. Only applicable when multiline is true. If true the textarea will be resizable. Defaults to false.\r\n\t\tresizable: true,\r\n\t},\r\n\t{\r\n\t\tkey: \"version\",\r\n\t\ttype: \"hidden\",\r\n\t\tdefault: 1,\r\n\t},\r\n])\r\nlet conf = config.load()\r\n\r\nGM_registerMenuCommand(\"设置\", config.setup)\r\n\r\nfunction GetCalculatorIndicator() {\r\n\tlet f\r\n\tif (conf.calcIndicator) {\r\n\t\ttry {\r\n\t\t\tf = new Function(\"t\", `return ${conf.calcIndicator}`)\r\n\t\t} catch (error) {\r\n\t\t\tf = new Function(\"t\", `return Math.ceil((t.label * t.thumbUpRate) / 100) + t.favoritesCount`)\r\n\t\t\tconsole.debug(error)\r\n\t\t\talert(`计算公式错误，排名计算方式使用默认公式。Error:${error}`)\r\n\t\t}\r\n\t} else {\r\n\t\tf = new Function(\"t\", `return Math.ceil((t.label * t.thumbUpRate) / 100) + t.favoritesCount`)\r\n\t}\r\n\treturn f\r\n}\r\n\r\nexport const indicatorCalculator = GetCalculatorIndicator();\r\nexport { conf, config };\r\n","//*://www.51talk.com/ReserveNew/index*\r\n//https://www.51talk.com/TeacherNew/info/t26501111\r\n//https://www.51talk.com/TeacherNew/teacherComment?tid=t26501111&type=all&has_msg=1\r\n//https://www.51talk.com/TeacherNew/teacherComment?tid=t26501111&type=good&has_msg=1\r\n//https://www.51talk.com/TeacherNew/teacherComment?tid=t26501111&type=bad&has_msg=1\r\n//https://www.51talk.com/user/study_center_zx\r\n//https://www.51talk.com/user/study_center_zy\r\n//https://www.51talk.com/user/study_center_xx\r\n\r\nimport { conf, indicatorCalculator } from \"./bestteacher_gm_toolbar\"\r\n\r\nexport const currentURL = window.location.href.toLocaleLowerCase()\r\n\r\nexport const settings = {\r\n\tisCoursePage: currentURL.includes(\"study_center\"),\r\n\tisDetailPage: currentURL.includes(\"teachernew\"),\r\n\tisListPage: currentURL.includes(\"reservenew\"),\r\n\tpageMaxCount: conf.pageMaxCount,\r\n\ttid: currentURL.match(/(t\\d+)/g) ? currentURL.match(/(t\\d+)/g)[0] : null,\r\n\turl: currentURL,\r\n}\r\n\r\nexport let configExprMilliseconds = 3600000 * conf.tInfoExprHours //缓存7天小时\r\nlet num = /[0-9]*/g\r\n\r\nexport function getTId(url) {\r\n\tif (!url) return settings.tid\r\n\treturn url.match(/(t\\d+)/g)[0]\r\n}\r\n\r\nexport function getSession(key, funcDefaultValue) {\r\n\tlet v = sessionStorage.getItem(key)\r\n\tif (v !== null) {\r\n\t\treturn JSON.parse(v)\r\n\t} else {\r\n\t\tlet data = typeof funcDefaultValue == \"function\" ? funcDefaultValue(key) : funcDefaultValue\r\n\t\tsessionStorage.setItem(key, JSON.stringify(data))\r\n\t\treturn data\r\n\t}\r\n}\r\n\r\nexport function setSession(key, funcValue) {\r\n\tif (funcValue === null) {\r\n\t\tsessionStorage.removeItem(key)\r\n\t} else {\r\n\t\tlet data = typeof funcValue == \"function\" ? funcValue(key) : funcValue\r\n\t\tsessionStorage.setItem(key, JSON.stringify(data))\r\n\t}\r\n}\r\n\r\nexport function getBatchNumber() {\r\n\tvar cur = Date.now()\r\n\tif (conf.newBatcherKeyMinutes <= 0) return cur\r\n\tlet saved = parseInt(GM_getValue(\"_getBatchNumber\"))\r\n\tif (!saved || Date.now() - saved > conf.newBatcherKeyMinutes * 600000) {\r\n\t\tGM_setValue(\"_getBatchNumber\", cur)\r\n\t\treturn cur\r\n\t}\r\n\treturn saved\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @return {string}\r\n */\r\nexport function getInfoKey() {\r\n\treturn \"tinfo-\" + getTId()\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @param {TeacherInfo} tinfo\r\n * @return {Number}\r\n */\r\nfunction calcIndicator(tinfo) {\r\n\tif (isNaN(tinfo.label)) tinfo.label = 0\r\n\tif (isNaN(tinfo.thumbUpRate)) tinfo.thumbUpRate = 0\r\n\tif (isNaN(tinfo.favoritesCount)) tinfo.favoritesCount = 0\r\n\r\n\treturn indicatorCalculator(tinfo)\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @param {TeacherInfo} tinfo\r\n * @return {Number}\r\n */\r\nfunction calcThumbRate(tinfo) {\r\n\tif (isNaN(tinfo.thumbDown)) tinfo.thumbDown = 0\r\n\tif (isNaN(tinfo.thumbUp)) tinfo.thumbUp = 0\r\n\r\n\tlet all = tinfo.thumbDown + tinfo.thumbUp\r\n\tif (all < 1) all = 1\r\n\treturn ((tinfo.thumbUp + Number.EPSILON) / all).toFixed(2) * 100\r\n}\r\n\r\n/**\r\n * 提交运算函数到 document 的 fx 队列\r\n */\r\nexport function submit(func) {\r\n\tlet queue = $.queue(document, \"fx\", func)\r\n\tif (queue[0] == \"inprogress\") {\r\n\t\treturn\r\n\t}\r\n\t$.dequeue(document)\r\n}\r\n\r\n/**\r\n *\r\n * @param  {JQuery<HTMLLabelElement>} jqLabelElement the all html page elements\r\n * @returns {number}\r\n */\r\nexport function getLabelCount(jqLabelElement) {\r\n\treturn (function () {\r\n\t\tlet l = 0\r\n\t\t$.each(\r\n\t\t\tjqLabelElement\r\n\t\t\t\t.text()\r\n\t\t\t\t.match(num)\r\n\t\t\t\t.filter(x => x !== \"\"),\r\n\t\t\tfunction (i, val) {\r\n\t\t\t\tl += Number(val)\r\n\t\t\t},\r\n\t\t)\r\n\t\treturn l\r\n\t})()\r\n}\r\n/**\r\n *\r\n * @param  {JQuery<HTMLSpanElement>} jqLabelSpanList the all html page elements\r\n * @returns  {TypeOfLabels}\r\n */\r\nexport function getLabelByItems(jqLabelSpanList) {\r\n\treturn jqLabelSpanList\r\n\t\t.map(function (i, v) {\r\n\t\t\tvar r = /([\\u4e00-\\u9fa5]+)\\s*\\(\\s*(\\d+)\\)/gi.exec(v.innerHTML)\r\n\t\t\treturn {\r\n\t\t\t\tkey: r[1],\r\n\t\t\t\tvalue: r[2],\r\n\t\t\t}\r\n\t\t})\r\n\t\t.get()\r\n\t\t.reduce(function (meta, item) {\r\n\t\t\tif (meta[item.key]) meta[item.key] += Number(item.value)\r\n\t\t\tmeta[item.key] = Number(item.value)\r\n\t\t\treturn meta\r\n\t\t}, {})\r\n}\r\n\r\n/**\r\n *从详细页面获取教师信息\r\n *\r\n * @param  {TeacherInfo} [tinfo_saved={}] 当前存储的教师信息\r\n * @param {JQuery<Document>} jqr 详细页面的Jquery对象\r\n * @param {TeacherInfo} [tinfo_latest={}] 需要覆盖详细页信息的教师信息\r\n * @return {TeacherInfo}  教师信息\r\n */\r\nexport function getTeacherInfoFromDetailPage(tinfo_saved, jqr, tinfo_latest = {}) {\r\n\tjqr.find(\".teacher-name-tit\").prop(\r\n\t\t\"innerHTML\",\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param {Number} i\r\n\t\t * @param {String} val\r\n\t\t * @returns\r\n\t\t */\r\n\t\tfunction (i, val) {\r\n\t\t\treturn val.replaceAll(\"<!--\", \"\").replaceAll(\"-->\", \"\")\r\n\t\t},\r\n\t)\r\n\r\n\tlet tinfo = {\r\n\t\tlabel: getLabelCount(jqr.find(\".t-d-label\")),\r\n\t\tupdateTime: Date.now(),\r\n\t\tlabels: getLabelByItems(jqr.find(\".t-d-label>span\")),\r\n\t\tteacherStar: Number(jqr.find(\".s-t-top>.s-t-top-details.f-cb>.s-t-top-left>.teacher-left-right>.teacher-star\").text()),\r\n\t\tcertificates: jqr.find(\".s-t-top>.s-t-top-details.f-cb>.s-t-top-left>.teacher-left-right>.teacher-icon-tag>span:eq(0)\").text(),\r\n\t\tsuitable: jqr\r\n\t\t\t.find(\".s-t-top>.s-t-top-details.f-cb>.s-t-top-left>.teacher-left-right>.suitable>span:not(:first)\")\r\n\t\t\t.map(function (i, v) {\r\n\t\t\t\treturn $(v).text()\r\n\t\t\t})\r\n\t\t\t.get()\r\n\t\t\t.reduce(function (pre, cur) {\r\n\t\t\t\tif (cur) pre.push(cur)\r\n\t\t\t\treturn pre\r\n\t\t\t}, []),\r\n\t}\r\n\r\n\tif (jqr.find(\".evaluate-content-left span\").length >= 3) {\r\n\t\ttinfo.thumbUp = Number(\r\n\t\t\tjqr\r\n\t\t\t\t.find(\".evaluate-content-left span:eq(1)\")\r\n\t\t\t\t.text()\r\n\t\t\t\t.match(num)\r\n\t\t\t\t.filter(x => x !== \"\")[0],\r\n\t\t)\r\n\t\ttinfo.thumbDown = Number(\r\n\t\t\tjqr\r\n\t\t\t\t.find(\".evaluate-content-left span:eq(2)\")\r\n\t\t\t\t.text()\r\n\t\t\t\t.match(num)\r\n\t\t\t\t.filter(x => x !== \"\")[0],\r\n\t\t)\r\n\t\ttinfo.thumbUpRate = calcThumbRate(tinfo)\r\n\r\n\t\ttinfo.thumbUpRate = calcThumbRate(tinfo)\r\n\t\ttinfo.indicator = calcIndicator(tinfo)\r\n\r\n\t\ttinfo.sLevel = jqr.find(\".sui-students\").text()\r\n\t}\r\n\ttinfo.favoritesCount = Number(\r\n\t\tjqr\r\n\t\t\t.find(\".clear-search\")\r\n\t\t\t.text()\r\n\t\t\t.match(num)\r\n\t\t\t.filter(x => x !== \"\")[0] ?? 0,\r\n\t)\r\n\ttinfo.isFavorite = jqr.find(\".go-search.cancel-collection\").length > 0\r\n\r\n\ttinfo.name = jqr.find(\".t-name\").text().trim()\r\n\tvar agesStr = jqr\r\n\t\t.find(\".teacher-name-tit > .age.age-line\")\r\n\t\t.text()\r\n\t\t.match(num)\r\n\t\t.filter(x => x !== \"\")\r\n\ttinfo.tAge = Number(agesStr[1])\r\n\ttinfo.age = Number(agesStr[0])\r\n\ttinfo.batchNumber = getBatchNumber()\r\n\ttinfo = $.extend({}, tinfo_saved, tinfo, tinfo_latest)\r\n\r\n\tjqr.find(\".teacher-name-tit\").prop(\"innerHTML\", function (i, val) {\r\n\t\treturn `${val}\r\n<span class=\"age age-line\"><label title='指标'>${tinfo_saved.indicator}</label></span>\r\n<span class=\"age age-line\"><label title='好评率'>${tinfo_saved.thumbUpRate}%</label></span>\r\n<span class=\"age age-line\"><label title='被赞数量'>${tinfo_saved.thumbUp}</label></span>\r\n<span class=\"age age-line\"><label title='被踩数量'>${tinfo_saved.thumbDown}</label></span>\r\n<span class=\"age age-line\"><label title='评论标签数量'>${tinfo_saved.label}</label></span>\r\n<span class=\"age age-line\"><label title='在同类别教师中的排名'><span id=\"teacherRank\"></span></label></span>\r\n  `\r\n\t})\r\n\treturn tinfo\r\n}\r\n","export default class {\r\n    has(target, prop) {\r\n        if (typeof prop === \"symbol\") {\r\n            return prop in target; // pass through; or 'return;' if you want to block pass through\r\n        }\r\n        prop = prop.toLowerCase();\r\n        if (prop in target) return true;\r\n        let keys = Object.keys(target);\r\n        let i = keys.length;\r\n        while (i--) {\r\n            if (keys[i] && keys[i].toLowerCase() == prop) return true;\r\n        }\r\n        return false;\r\n    };\r\n    get(target, prop, receiver) {\r\n        if (typeof prop === \"symbol\") {\r\n            return target[prop];\r\n        }\r\n        prop = prop.toLowerCase();\r\n        if (prop in target) return target[prop];\r\n        let keys = Object.keys(target);\r\n        let i = keys.length;\r\n        while (i--) {\r\n            if (keys[i] && keys[i].toLowerCase() == prop) return target[keys[i]];\r\n        }\r\n        return undefined;\r\n    };\r\n    set(target, prop, value) {\r\n        if (typeof prop === \"symbol\") {\r\n            target[prop] = value;\r\n        }\r\n        target[prop.toLowerCase()] = value;\r\n        return true;\r\n    }\r\n};","///date to string with formater\r\n\r\nimport PropertiesCaseInsensitive from \"./../../libs/propertiesCaseInsensitive.mjs\"\r\n\r\n//扩展基本类型方法 array.clean(val), Number.toString(len),String.toFloat, String.toInt,String.startsWtih,String.endsWith, ** String.replaceAll区别育默认的string.replace\r\n\r\n$.extend(Array.prototype, {\r\n\tclean: function (deleteValue = \"\") {\r\n\t\tfor (let i = 0; i < this.length; i++) {\r\n\t\t\tif (this[i] == deleteValue) {\r\n\t\t\t\tthis.splice(i, 1)\r\n\t\t\t\ti--\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this\r\n\t},\r\n})\r\n$.extend(Number.prototype, {\r\n\ttoString: function (num) {\r\n\t\tif (isNaN(num)) num = 2\r\n\t\treturn this.toFixed(num)\r\n\t},\r\n})\r\n$.extend(String.prototype, {\r\n\ttoFloat: function () {\r\n\t\treturn parseFloat(this)\r\n\t},\r\n\ttoInt: function () {\r\n\t\treturn parseInt(this)\r\n\t},\r\n\tincludesAny: function (...arr) {\r\n\t\tif (!Array.isArray(arr)) return false\r\n\t\treturn new RegExp(arr.join(\"|\")).test(this)\r\n\t},\r\n\r\n\treplaceAll: function (search, replacement) {\r\n\t\tlet target = this\r\n\t\treturn target.replace(new RegExp(search, \"g\"), replacement)\r\n\t},\r\n})\r\n\r\nif (!String.prototype.startsWith) {\r\n\tObject.defineProperty(String.prototype, \"startsWith\", {\r\n\t\tvalue: function (search, rawPos) {\r\n\t\t\tvar pos = rawPos > 0 ? rawPos | 0 : 0\r\n\t\t\treturn this.substring(pos, pos + search.length) === search\r\n\t\t},\r\n\t})\r\n}\r\nif (!String.prototype.endsWith) {\r\n\tString.prototype.endsWith = function (search, this_len) {\r\n\t\tif (this_len === undefined || this_len > this.length) {\r\n\t\t\tthis_len = this.length\r\n\t\t}\r\n\t\treturn this.substring(this_len - search.length, this_len) === search\r\n\t}\r\n}\r\nif (!String.prototype.includes) {\r\n\tString.prototype.includes = function (search, start) {\r\n\t\t\"use strict\"\r\n\r\n\t\tif (search instanceof RegExp) {\r\n\t\t\tthrow TypeError(\"first argument must not be a RegExp\")\r\n\t\t}\r\n\t\tif (start === undefined) {\r\n\t\t\tstart = 0\r\n\t\t}\r\n\t\treturn this.indexOf(search, start) !== -1\r\n\t}\r\n}\r\n///extend method parameters of window, get parameter's value with key case-insensitive\r\n\r\n$.extend(window, {\r\n\tparameters: function (url) {\r\n\t\t// get query string from url (optional) or window\r\n\t\tlet queryString = url ? url.split(\"?\")[1] : window.location.search.slice(1)\r\n\t\tlet cachedkey = \"urlparameters\" + queryString\r\n\r\n\t\tlet obj = $(window).data(cachedkey)\r\n\t\tif (obj == undefined) {\r\n\t\t\tobj = new Proxy({}, PropertiesCaseInsensitive)\r\n\t\t\t$(window).data(cachedkey, obj)\r\n\t\t} else return obj\r\n\t\t// we'll store the parameters here\r\n\t\t// if query string exists\r\n\t\tif (queryString) {\r\n\t\t\t// stuff after # is not part of query string, so get rid of it\r\n\t\t\tqueryString = queryString.split(\"#\")[0]\r\n\t\t\t// split our query string into its component parts\r\n\t\t\tlet arr = queryString.split(\"&\")\r\n\t\t\tfor (let i = 0; i < arr.length; i++) {\r\n\t\t\t\t// separate the keys and the values\r\n\t\t\t\tlet a = arr[i].split(\"=\")\r\n\t\t\t\t// set parameter name and value (use 'true' if empty)\r\n\t\t\t\tlet paramName = a[0]\r\n\t\t\t\tlet paramValue = typeof a[1] === \"undefined\" ? true : a[1]\r\n\t\t\t\t// if the paramName ends with square brackets, e.g. colors[] or colors[2]\r\n\t\t\t\tif (paramName.match(/\\[(\\d+)?\\]$/)) {\r\n\t\t\t\t\t// create key if it doesn't exist\r\n\t\t\t\t\tlet key = paramName.replace(/\\[(\\d+)?\\]/, \"\")\r\n\t\t\t\t\tif (!obj[key]) obj[key] = []\r\n\t\t\t\t\t// if it's an indexed array e.g. colors[2]\r\n\t\t\t\t\tif (paramName.match(/\\[\\d+\\]$/)) {\r\n\t\t\t\t\t\t// get the index value and add the entry at the appropriate position\r\n\t\t\t\t\t\tlet index = /\\[(\\d+)\\]/.exec(paramName)[1]\r\n\t\t\t\t\t\tobj[key][index] = paramValue\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// otherwise add the value to the end of the array\r\n\t\t\t\t\t\tobj[key].push(paramValue)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// we're dealing with a string\r\n\t\t\t\t\tif (!obj[paramName]) {\r\n\t\t\t\t\t\t// if it doesn't exist, create property\r\n\t\t\t\t\t\tobj[paramName] = paramValue\r\n\t\t\t\t\t} else if (obj[paramName] && typeof obj[paramName] === \"string\") {\r\n\t\t\t\t\t\t// if property does exist and it's a string, convert it to an array\r\n\t\t\t\t\t\tobj[paramName] = [obj[paramName]]\r\n\t\t\t\t\t\tobj[paramName].push(paramValue)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// otherwise add the property\r\n\t\t\t\t\t\tobj[paramName].push(paramValue)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj\r\n\t},\r\n})\r\n\r\nexport {}\r\n","import { config } from \"./bestteacher_gm_toolbar\"\r\nimport { configExprMilliseconds, getBatchNumber, getLabelByItems, getLabelCount, getSession, getTeacherInfoFromDetailPage, getTId, setSession, settings, submit } from \"./common\"\r\nimport \"./jqueryextend\"\r\n\r\nconfig.onsave = cfg => {\r\n\t// conf = cfg;\r\n\tconsole.debug(cfg)\r\n\ttry {\r\n\t\t// test it\r\n\t\tnew Function(\"t\", `return ${cfg.calcIndicator}`)({})\r\n\t} catch (error) {\r\n\t\tconsole.debug(error)\r\n\t\talert(`计算公式错误，排名计算方式使用默认公式。Error:${error}`)\r\n\t\treturn false\r\n\t}\r\n\t$(\"#autoGetNextPage\").text(\"自动获取\" + getAutoNextPagesCount() + \"页\")\r\n}\r\nlet maxRate = 0,\r\n\tminRate = 99999,\r\n\tmaxLabel = 0,\r\n\tminLabel = 9999999,\r\n\tmaxFc = 0,\r\n\tminFc = 999999,\r\n\tmaxAge = 0,\r\n\tminAge = 99999\r\n\r\nfunction getLeftPageCount() {\r\n\tlet pages = Number($(\".s-t-page>.next-page:first\").prev().text())\r\n\tlet curr = Number($(\".s-t-page>.active:first\").text())\r\n\tif (pages) return pages - curr\r\n\telse return 0\r\n}\r\n\r\nfunction getAutoNextPagesCount() {\r\n\tlet pages = getLeftPageCount()\r\n\tif (settings.pageMaxCount > pages) return pages\r\n\telse return settings.pageMaxCount\r\n}\r\n\r\nfunction updateTeacherInfoToUI(jqEl, tinfo) {\r\n\tif (!isNaN(tinfo.label)) {\r\n\t\tif (tinfo.label > maxLabel) maxLabel = tinfo.label\r\n\t\tif (tinfo.label < minLabel) minLabel = tinfo.label\r\n\t}\r\n\tif (tinfo.favoritesCount && !isNaN(tinfo.favoritesCount)) {\r\n\t\tif (tinfo.favoritesCount > maxFc) maxFc = tinfo.favoritesCount\r\n\t\tif (tinfo.favoritesCount < minFc) minFc = tinfo.favoritesCount\r\n\t}\r\n\tif (!isNaN(tinfo.thumbUpRate)) {\r\n\t\tif (tinfo.thumbUpRate > maxRate) maxRate = tinfo.thumbUpRate\r\n\t\tif (tinfo.thumbUpRate < minRate) minRate = tinfo.thumbUpRate\r\n\t}\r\n\tif (!isNaN(tinfo.age)) {\r\n\t\tif (tinfo.age > maxAge) maxAge = tinfo.age\r\n\t\tif (tinfo.age < minAge) minAge = tinfo.age\r\n\t}\r\n\r\n\tjqEl.attr(\"teacherInfo\", JSON.stringify(tinfo))\r\n\tjqEl.find(\".teacher-name\").html(\r\n\t\tjqEl.find(\".teacher-name\").html() +\r\n\t\t\t`<br /><label title='评论标签数量'>${tinfo.label}</label>|<label title='好评率'>${tinfo.thumbUpRate}%</label>\r\n      | <label title='收藏数量'>${tinfo.favoritesCount} </label> `,\r\n\t)\r\n\t// jqEl.find(\".teacher-age\").html(jqEl.find(\".teacher-age\").html() + \" | <label title='收藏数量'>\" + tinfo.favoritesCount + \"</label>\");\r\n\tjqEl.attr(\"indicator\", tinfo.indicator)\r\n}\r\n\r\nfunction executeFilters(uiFilters) {\r\n\tlet tCount = 0,\r\n\t\thideCount = 0\r\n\tconsole.debug(\"-----uiFilters\", uiFilters)\r\n\t$.each($(\".item\"), function (i, item) {\r\n\t\tlet node = $(item)\r\n\t\tlet tInfoJson = node.attr(\"teacherInfo\")\r\n\t\tif (!tInfoJson) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\tlet tinfo = JSON.parse(tInfoJson)\r\n\t\tvar isShown = true\r\n\t\tif (!isNaN(tinfo.thumbUpRate)) isShown = tinfo.thumbUpRate >= uiFilters.rate1 && tinfo.thumbUpRate <= uiFilters.rate2 && isShown\r\n\t\tif (!isNaN(tinfo.label)) isShown = tinfo.label >= uiFilters.l1 && tinfo.label <= uiFilters.l2 && isShown\r\n\t\tif (!isNaN(tinfo.age)) isShown = tinfo.age >= uiFilters.age1 && tinfo.age <= uiFilters.age2 && isShown\r\n\t\tif (!isNaN(tinfo.favoritesCount)) isShown = tinfo.favoritesCount >= uiFilters.fc1 && tinfo.favoritesCount <= uiFilters.fc2 && isShown\r\n\r\n\t\tif (isShown) {\r\n\t\t\tif (node.is(\":hidden\")) {\r\n\t\t\t\t//如果node是隐藏的则显示node元素，否则隐藏\r\n\t\t\t\tnode.show().animate({ left: \"+=50\" }, 3500).animate({ left: \"-=50\" }, 3500)\r\n\t\t\t} else {\r\n\t\t\t\t//nothing todo\r\n\t\t\t}\r\n\t\t\ttCount++\r\n\t\t} else {\r\n\t\t\tconsole.debug(\"Hide---------------\", tinfo)\r\n\t\t\tnode.css(\"color\", \"white\").hide(500)\r\n\t\t\thideCount++\r\n\t\t}\r\n\t})\r\n\t$(\"#tCount\").text(tCount)\r\n\t$(\"#tHideCount\").text(hideCount)\r\n}\r\n\r\nfunction getUiFilters() {\r\n\tlet [l1, l2] = $(\"#labelSlider\").slider(\"values\")\r\n\tlet [rate1, rate2] = $(\"#thumbUpRateSlider\").slider(\"values\")\r\n\tlet [age1, age2] = $(\"#tAgeSlider\").slider(\"values\")\r\n\tlet [fc1, fc2] = $(\"#fcSlider\").slider(\"values\")\r\n\r\n\treturn { l1, l2, rate1, rate2, age1, age2, fc1, fc2 }\r\n}\r\n\r\n/**\r\n * @param {JQuery<Element>} jqEl\r\n * @returns {TeacherInfoList}\r\n */\r\nfunction getTeacherInfoFromListPageUI(jqEl) {\r\n\tlet label = getLabelCount(jqEl.find(\".label\")),\r\n\t\tlabels = getLabelByItems(jqEl.find(\".label>span\")),\r\n\t\tname = jqEl.find(\".teacher-name\").text(),\r\n\t\ttype = $(\".s-t-top-list .li-active\").text(),\r\n\t\tbatchNumber = getBatchNumber()\r\n\tif (type == \"收藏外教\") {\r\n\t\tlet isFavorite = true\r\n\t\treturn {\r\n\t\t\tlabel,\r\n\t\t\tname,\r\n\t\t\tbatchNumber,\r\n\t\t\tisFavorite,\r\n\t\t\tlabels,\r\n\t\t}\r\n\t} else\r\n\t\treturn {\r\n\t\t\tlabel,\r\n\t\t\tname,\r\n\t\t\tbatchNumber,\r\n\t\t\ttype,\r\n\t\t\tlabels,\r\n\t\t}\r\n}\r\n\r\nif (settings.isListPage) {\r\n\t$(\".item-top-cont\").prop(\"innerHTML\", function (i, val) {\r\n\t\treturn val.replaceAll(\"<!--\", \"\").replaceAll(\"-->\", \"\")\r\n\t})\r\n\t// 自动获取时,显示停止按钮\r\n\tsubmit(function (next) {\r\n\t\tlet totalPages = Number($(\".s-t-page:last>a:last\").prev().text()),\r\n\t\t\tcurPageId = window.parameters().pageID ? window.parameters().pageID : 1,\r\n\t\t\tremainPages = totalPages - curPageId\r\n\t\tlet autoNextPageCount = getSession(\"autoNextPageCount\", 0)\r\n\r\n\t\tif (autoNextPageCount > 0 && $(\".s-t-page>.next-page\").length > 0) {\r\n\t\t\tlet dialog = $(`<div id=\"dialog-confirm\" title=\"是否停止自动搜索老师?\">\r\n<p><span class=\"ui-icon ui-icon-alert\" style=\"float:left; margin:12px 12px 20px 0;\"></span>\r\n<b>正在根据您的选择自动获取教师信息</b><br><br>\r\n剩余${sessionStorage.getItem(\"selectedTimeSlotsRemain\")}/${sessionStorage.getItem(\"selectedTimeSlotsTotal\")}个时段，<br><br>\r\n当前时段约${totalPages * 28}个教师，获取第${curPageId}/${totalPages}页，进度${Math.floor((curPageId / totalPages) * 100)}%,<br>\r\n\r\n</p>\r\n</div>`)\r\n\t\t\tdialog.appendTo(\"body\")\r\n\t\t\tdialog.dialog({\r\n\t\t\t\tresizable: false,\r\n\t\t\t\theight: \"auto\",\r\n\t\t\t\twidth: 400,\r\n\t\t\t\tmodal: false,\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\t停止获取: function () {\r\n\t\t\t\t\t\tsessionStorage.removeItem(\"selectedTimeSlots\")\r\n\t\t\t\t\t\tsetSession(\"autoNextPageCount\", 0)\r\n\t\t\t\t\t\t$(this).dialog(\"close\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t[`取后${(remainPages * 0.25).toFixed(0)}页`]: function () {\r\n\t\t\t\t\t\tsessionStorage.removeItem(\"selectedTimeSlots\")\r\n\t\t\t\t\t\tsetSession(\"autoNextPageCount\", (remainPages * 0.25).toFixed(0))\r\n\t\t\t\t\t\t$(this).dialog(\"close\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t[`取后${(remainPages * 0.5).toFixed(0)}页`]: function () {\r\n\t\t\t\t\t\tsessionStorage.removeItem(\"selectedTimeSlots\")\r\n\t\t\t\t\t\tsetSession(\"autoNextPageCount\", (remainPages * 0.5).toFixed(0))\r\n\t\t\t\t\t\t$(this).dialog(\"close\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t[`取后${(remainPages * 0.75).toFixed(0)}页`]: function () {\r\n\t\t\t\t\t\tsessionStorage.removeItem(\"selectedTimeSlots\")\r\n\t\t\t\t\t\tsetSession(\"autoNextPageCount\", (remainPages * 0.75).toFixed(0))\r\n\t\t\t\t\t\t$(this).dialog(\"close\")\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t}\r\n\t\tnext()\r\n\t})\r\n\r\n\t//获取列表中数据\r\n\t$(\".item\").each(function (index, el) {\r\n\t\tsubmit(function (next) {\r\n\t\t\tPace.track(function () {\r\n\t\t\t\tlet jqEl = $(el)\r\n\t\t\t\tlet tid = getTId(jqEl.find(\".teacher-details-link a\").attr(\"href\"))\r\n\t\t\t\tlet tInfoKey = \"tinfo-\" + tid\r\n\r\n\t\t\t\t/** @type {TeacherInfoList|TeacherInfo} */\r\n\t\t\t\tlet tinfo = getTeacherInfoFromListPageUI(jqEl)\r\n\r\n\t\t\t\t/** @type {TeacherInfo} */\r\n\t\t\t\tlet tinfo_saved = GM_getValue(tInfoKey)\r\n\t\t\t\tif (tinfo_saved) {\r\n\t\t\t\t\tlet now = Date.now()\r\n\t\t\t\t\tif (!tinfo_saved.updateTime) {\r\n\t\t\t\t\t\ttinfo_saved.updateTime = new Date(1970, 1, 1).getTime()\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttinfo = $.extend({}, tinfo_saved, tinfo)\r\n\r\n\t\t\t\t\tif (now - tinfo_saved.updateTime < configExprMilliseconds) {\r\n\t\t\t\t\t\tupdateTeacherInfoToUI(jqEl, tinfo)\r\n\t\t\t\t\t\tGM_setValue(tInfoKey, tinfo)\r\n\t\t\t\t\t\tnext()\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// ajax 请求一定要包含在一个函数中\r\n\t\t\t\tlet start = Date.now()\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: `${window.location.protocol}//${window.location.host}/TeacherNew/teacherComment?tid=${tid}&type=bad&has_msg=1`,\r\n\t\t\t\t\ttype: \"GET\",\r\n\t\t\t\t\tdateType: \"html\",\r\n\t\t\t\t\tsuccess: function (r) {\r\n\t\t\t\t\t\tlet jqr = $(r)\r\n\t\t\t\t\t\ttinfo = getTeacherInfoFromDetailPage(tinfo, jqr, {})\r\n\t\t\t\t\t\tjqr.remove()\r\n\t\t\t\t\t\tupdateTeacherInfoToUI(jqEl, tinfo)\r\n\t\t\t\t\t\tGM_setValue(tInfoKey, tinfo)\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function (data) {\r\n\t\t\t\t\t\tconsole.debug(\"xhr error when getting teacher \" + JSON.stringify(jqEl) + \",error msg:\" + JSON.stringify(data))\r\n\t\t\t\t\t},\r\n\t\t\t\t}).always(function () {\r\n\t\t\t\t\twhile (Date.now() - start < 600) {\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnext()\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t})\r\n\t})\r\n\r\n\tsubmit(function (next) {\r\n\t\t//翻页\r\n\t\tlet autoNextPageCount = getSession(\"autoNextPageCount\", 0)\r\n\t\tif (autoNextPageCount > 0) {\r\n\t\t\tsetSession(\"autoNextPageCount\", autoNextPageCount - 1)\r\n\t\t\tif ($(\".s-t-page>.next-page\").length == 0) {\r\n\t\t\t\tsetSession(\"autoNextPageCount\", 0)\r\n\t\t\t\tif (isStopShowBoxAndAutoGetNextTimeTeachers()) return\r\n\t\t\t} else {\r\n\t\t\t\t$(\".s-t-page .next-page\")[0].click()\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (isStopShowBoxAndAutoGetNextTimeTeachers()) return\r\n\t\t}\r\n\t\tnext()\r\n\t})\r\n}\r\n\r\nfunction isStopShowBoxAndAutoGetNextTimeTeachers() {\r\n\tlet str = sessionStorage.getItem(\"selectedTimeSlots\")\r\n\tif (!str) return false\r\n\tlet selectedTimeSlots = JSON.parse(str)\r\n\tlet cur = selectedTimeSlots.shift()\r\n\tif (cur) {\r\n\t\tsetSession(\"autoNextPageCount\", 500)\r\n\t\tsetSession(\"selectedTimeSlots\", selectedTimeSlots)\r\n\t\tsetSession(\"selectedTimeSlotsRemain\", selectedTimeSlots.length)\r\n\t\t$('form[name=\"searchform\"]>input[name=\"selectTime\"]').val(cur)\r\n\t\t$('form[name=\"searchform\"]>input[name=\"pageID\"]').val(1)\r\n\t\t$(\".go-search\").trigger(\"click\")\r\n\t\treturn true\r\n\t}\r\n\treturn false\r\n}\r\n\r\nfunction addCheckbox(val, lbl, group) {\r\n\tlet container = $(\"#timesMultipleCheck\")\r\n\tlet inputs = container.find(\"input\")\r\n\tlet id = inputs.length + 1\r\n\t$(\"<input />\", {\r\n\t\ttype: \"checkbox\",\r\n\t\tid: \"cb\" + id,\r\n\t\tvalue: val,\r\n\t\tname: group,\r\n\t}).appendTo(container)\r\n\t$(\"<label />\", {\r\n\t\tfor: \"cb\" + id,\r\n\t\ttext: lbl ? lbl : val,\r\n\t}).appendTo(container)\r\n}\r\n\r\nexport { addCheckbox, executeFilters, getTeacherInfoFromListPageUI as getTeacherInfoInList, getUiFilters, isStopShowBoxAndAutoGetNextTimeTeachers, maxAge, maxFc, maxLabel, maxRate, minAge, minFc, minLabel, minRate, updateTeacherInfoToUI }\r\n","import { getInfoKey, getTeacherInfoFromDetailPage, settings, submit } from \"./common\"\r\n\r\n/**\r\n * @typedef {import('./common').TeacherInfo} TeacherInfo\r\n * @param {JQuery<Element>} jqr\r\n */\r\nfunction processTeacherDetailPage(jqr) {\r\n\t/** @type {TeacherInfo} */\r\n\tlet tinfo_saved = GM_getValue(getInfoKey(), {})\r\n\r\n\ttinfo_saved = getTeacherInfoFromDetailPage(tinfo_saved, jqr, {})\r\n\r\n\tGM_setValue(getInfoKey(), tinfo_saved)\r\n}\r\n\r\nif (settings.isDetailPage) {\r\n\tsubmit(function (next) {\r\n\t\tprocessTeacherDetailPage($(document))\r\n\t\tnext()\r\n\t})\r\n}\r\n","// Module\nvar code = \"<div id=\\\"filterDialog\\\" title=\\\"Teacher Filter\\\"> <div id=\\\"tabs\\\"> <div> <ul> <li><a href=\\\"#tabs-1\\\">Search Teachers</a></li> <li><a href=\\\"#tabs-2\\\">Sorted Teachers</a></li> </ul> <br/> <div id=\\\"filterButtons\\\"> <div id=\\\"buttons\\\" style=\\\"text-align:center\\\"> <button id=\\\"asc\\\" title=\\\"当前为降序，点击后按升序排列\\\">升序</button> <button id=\\\"desc\\\" title=\\\"当前为升序，点击进行降序排列\\\" style=\\\"display:none\\\">降序</button> <input id=\\\"tInfoExprHours\\\" title=\\\"缓存过期时间（小时）\\\"/> <button title=\\\"清空缓存，并重新搜索\\\">清除缓存</button> <a>报告BUG</a> <a>帮助</a> </div> <div id=\\\"buttons1\\\" style=\\\"text-align:center\\\"> <div id=\\\"timesMultipleCheck\\\"></div> <button>反选时间段</button> <button id=\\\"autogettodaysteachers\\\" title=\\\"自动获取上述选择时段的全部教师并缓存\\\">获取选定时段老师</button> </div> </div> </div> <div id=\\\"tabs-1\\\"> 当前可选 <span id=\\\"tCount\\\"></span> 位,被折叠 <span id=\\\"tHideCount\\\"></span> 位。 <br/> 有效经验值 <span id=\\\"_tLabelCount\\\"></span> <br/> <div id=\\\"labelSlider\\\"></div> 收藏数 <span id=\\\"_tfc\\\"></span> <br/> <div id=\\\"fcSlider\\\"></div> 好评率 <span id=\\\"_thumbUpRate\\\"></span> <br/> <div id=\\\"thumbUpRateSlider\\\"></div> 年龄 <span id=\\\"_tAge\\\"></span> <br/> <div id=\\\"tAgeSlider\\\"></div> </div> <div id=\\\"tabs-2\\\"> <table id=\\\"teacherTab\\\"> <caption></caption> <th id=\\\"vwswslwo\\\"></th> </table> <div id=\\\"pager5\\\"></div> </div> </div> </div> \";\n// Exports\nexport default code;","// ==UserScript==\r\n// @name Best Teacher(JQuery)\r\n// @version 2021.4.15001\r\n// @namespace https://github.com/niubilityfrontend\r\n// @description 谁是最好的老师？-排序显示，经验值计算|自定义经验值公式|好评率|显示年龄|列表显示所有教师\r\n// @author jimbo\r\n// @license OSL-3.0\r\n// @supportURL https://github.com/niubilityfrontend/findteacherson51talk\r\n// @match *://www.51talk.com/ReserveNew/index*\r\n// @match *://www.51talk.com/TeacherNew/*\r\n// @match *://www.51talk.com/user/*\r\n// @match *://51talk.com/ReserveNew/index*\r\n// @match *://51talk.com/TeacherNew/*\r\n// @match *://51talk.com/user/*\r\n// @grant GM_xmlhttpRequest\r\n// @grant GM_getValue\r\n// @grant GM_setValue\r\n// @grant GM_listValues\r\n// @grant GM_deleteValue\r\n// @grant GM_registerMenuCommand\r\n// @require https://raw.githubusercontent.com/niubilityfrontend/jquery.ui/1.12.1/jquery-ui.min.js\r\n// @require https://raw.githubusercontent.com/niubilityfrontend/pace/v1.2.4/pace.min.js\r\n// @require https://raw.githubusercontent.com/niubilityfrontend/jquery-scrollfix/master/src/scrollfix.js\r\n// @require https://raw.githubusercontent.com/free-jqgrid/jqGrid/v4.15.5/dist/i18n/grid.locale-cn.js\r\n// @require https://raw.githubusercontent.com/free-jqgrid/jqGrid/v4.15.5/dist/jquery.jqgrid.min.js\r\n// ==/UserScript==\r\n\r\n// @require https://code.jquery.com/jquery-3.6.0.min.js\r\n\r\nimport dayjs from \"dayjs\"\r\nimport zh_cn from \"dayjs/locale/zh-cn\"\r\nimport relative from \"dayjs/plugin/relativeTime\"\r\nimport { conf } from \"./bestteacher_gm_toolbar\"\r\nimport { configExprMilliseconds, getTId, setSession, settings, submit } from \"./common\"\r\n\r\nimport \"./findingteacher.user.css\"\r\n\r\nimport { addCheckbox, executeFilters, getUiFilters, isStopShowBoxAndAutoGetNextTimeTeachers, maxAge, maxFc, maxLabel, maxRate, minAge, minFc, minLabel, minRate } from \"./listpage\"\r\n\r\nimport \"./jqueryextend\"\r\nimport \"./detailpage\"\r\nimport \"./pacesetup\"\r\nimport UiHtmlTemplate from \"./pluginUITemplate.html\"\r\n\r\ndayjs.extend(relative)\r\ndayjs.locale(zh_cn)\r\n\r\nlet asc = function (a, b) {\r\n\tlet av = $(a).attr(\"indicator\")\r\n\tlet bv = $(b).attr(\"indicator\")\r\n\tif (!av || !bv) return 0\r\n\treturn $(a).attr(\"indicator\").toFloat() > $(b).attr(\"indicator\").toFloat() ? 1 : -1\r\n}\r\nlet desc = function (a, b) {\r\n\tlet av = $(a).attr(\"indicator\")\r\n\tlet bv = $(b).attr(\"indicator\")\r\n\tif (!av || !bv) return 0\r\n\treturn $(a).attr(\"indicator\").toFloat() > $(b).attr(\"indicator\").toFloat() ? -1 : 1\r\n}\r\nlet sortElementsByIndicator = function (sortBy) {\r\n\tlet container = $(\".s-t-content.f-cb\"),\r\n\t\tsortedElements = container.find(\".item\").detach().sort(sortBy)\r\n\tcontainer.append(sortedElements)\r\n}\r\n\r\n/**\r\n * @typedef {import('./global').TypeofTeacher} Teacher\r\n * @param {JQuery<Element>} jqr\r\n */\r\nfunction getCachedTeachers() {\r\n\t/**\r\n\t * @type Array<Teacher>\r\n\t */\r\n\tlet teachers = []\r\n\t$.each(GM_listValues(), function (i, item) {\r\n\t\tif (item.startsWith(\"tinfo-\")) {\r\n\t\t\tlet t = GM_getValue(item)\r\n\t\t\tt.tid = item.slice(6, item.length)\r\n\t\t\tteachers.push(t)\r\n\t\t}\r\n\t})\r\n\tlet indexs = {}\r\n\tteachers = teachers\r\n\t\t.sort(function (t1, t2) {\r\n\t\t\tif (t1.indicator == t2.indicator) return t1.favoritesCount > t2.favoritesCount ? -1 : 1\r\n\t\t\treturn t1.indicator > t2.indicator ? -1 : 1\r\n\t\t})\r\n\t\t.map((val, idx) => {\r\n\t\t\tif (isNaN(indexs[val.type])) {\r\n\t\t\t\tindexs[val.type] = 1\r\n\t\t\t} else {\r\n\t\t\t\tindexs[val.type] += 1\r\n\t\t\t}\r\n\t\t\tval.rank = indexs[val.type]\r\n\t\t\treturn val\r\n\t\t})\r\n\treturn teachers\r\n}\r\nfunction getRankHtml(t) {\r\n\tif (t) {\r\n\t\tlet colorIf = \"\"\r\n\t\tif (t.rank <= conf.markRankRed) {\r\n\t\t\tcolorIf = \"style = 'color:red'\"\r\n\t\t}\r\n\t\treturn `<label title='在同类别教师中的排名' ${colorIf}> ${t.rank}名</label>`\r\n\t} else {\r\n\t\treturn `<label title='未找到该教师' > N名</label>`\r\n\t}\r\n}\r\nif (settings.isListPage || settings.isDetailPage) {\r\n\t//构建插件信息\r\n\tsubmit(function (next) {\r\n\t\ttry {\r\n\t\t\tlet config = GM_getValue(\"filterConfig\", {\r\n\t\t\t\tl1: minLabel ?? 300,\r\n\t\t\t\tl2: maxLabel ?? 200,\r\n\t\t\t\trate1: minRate ?? 97,\r\n\t\t\t\trate2: maxRate ?? 100,\r\n\t\t\t\tage1: minAge ?? 0,\r\n\t\t\t\tage2: maxAge ?? 100,\r\n\t\t\t\tfc1: minFc ?? 0,\r\n\t\t\t\tfc2: maxFc ?? 999999,\r\n\t\t\t})\r\n\r\n\t\t\t$(\"body\").append(UiHtmlTemplate)\r\n\t\t\tif (!settings.isListPage) {\r\n\t\t\t\t$(\"#filterButtons\").hide()\r\n\t\t\t}\r\n\t\t\t$(\"body\").append(\"<div id='teacherListDialog' style='display:none;'></div>\")\r\n\t\t\t$(\"body\").append(\"<div id='wwwww'>已加载选课辅助插件。</div>\") //这是一个奇怪的BUG on jqueryui. 如果不多额外添加一个，则dialog无法弹出。\r\n\t\t\t$(\"#labelSlider\")\r\n\t\t\t\t.slider({\r\n\t\t\t\t\trange: true,\r\n\t\t\t\t\tmin: minLabel - 1,\r\n\t\t\t\t\tmax: maxLabel + 1,\r\n\t\t\t\t\tvalues: [config.l1 < minLabel - 1 ? minLabel - 1 : config.l1, maxLabel],\r\n\t\t\t\t\tslide: function (event, ui) {\r\n\t\t\t\t\t\t$(\"#_tLabelCount\").html(ui.values[0] + \" - \" + ui.values[1])\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.on(\"slidestop\", function (event, ui) {\r\n\t\t\t\t\tlet l = $(this).slider(\"values\")\r\n\t\t\t\t\tlet uiFilters = getUiFilters()\r\n\t\t\t\t\tlet filterConfig = GM_getValue(\"filterConfig\", uiFilters)\r\n\t\t\t\t\tfilterConfig.l1 = l[0]\r\n\t\t\t\t\tfilterConfig.l2 = l[1]\r\n\t\t\t\t\tGM_setValue(\"filterConfig\", filterConfig)\r\n\t\t\t\t\texecuteFilters(uiFilters)\r\n\t\t\t\t})\r\n\t\t\t$(\"#fcSlider\")\r\n\t\t\t\t.slider({\r\n\t\t\t\t\trange: true,\r\n\t\t\t\t\tmin: minFc - 1,\r\n\t\t\t\t\tmax: maxFc + 1,\r\n\t\t\t\t\tvalues: [config.fc1, config.fc2],\r\n\t\t\t\t\tslide: function (event, ui) {\r\n\t\t\t\t\t\t$(\"#_tfc\").html(ui.values[0] + \" - \" + ui.values[1])\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.on(\"slidestop\", function (event, ui) {\r\n\t\t\t\t\tlet fc = $(this).slider(\"values\")\r\n\t\t\t\t\tlet uiFilters = getUiFilters()\r\n\t\t\t\t\tlet filterConfig = GM_getValue(\"filterConfig\", uiFilters)\r\n\t\t\t\t\tfilterConfig.fc1 = fc[0]\r\n\t\t\t\t\tfilterConfig.fc2 = fc[1]\r\n\t\t\t\t\tGM_setValue(\"filterConfig\", filterConfig)\r\n\t\t\t\t\texecuteFilters(uiFilters)\r\n\t\t\t\t})\r\n\t\t\t$(\"#thumbUpRateSlider\")\r\n\t\t\t\t.slider({\r\n\t\t\t\t\trange: true,\r\n\t\t\t\t\tmin: minRate,\r\n\t\t\t\t\tmax: maxRate,\r\n\t\t\t\t\tvalues: [config.rate1, config.rate2],\r\n\t\t\t\t\tslide: function (_event, ui) {\r\n\t\t\t\t\t\t$(\"#_thumbUpRate\").html(ui.values[0] + \"% - \" + ui.values[1] + \"%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.on(\"slidestop\", function (event, ui) {\r\n\t\t\t\t\tlet rate = $(\"#thumbUpRateSlider\").slider(\"values\")\r\n\t\t\t\t\tlet uiFilters = getUiFilters()\r\n\t\t\t\t\tlet filterConfig = GM_getValue(\"filterConfig\", uiFilters)\r\n\t\t\t\t\tfilterConfig.rate1 = rate[0]\r\n\t\t\t\t\tfilterConfig.rate2 = rate[1]\r\n\t\t\t\t\tGM_setValue(\"filterConfig\", filterConfig)\r\n\t\t\t\t\texecuteFilters(uiFilters)\r\n\t\t\t\t})\r\n\r\n\t\t\t$(\"#tAgeSlider\")\r\n\t\t\t\t.slider({\r\n\t\t\t\t\trange: true,\r\n\t\t\t\t\tmin: minAge,\r\n\t\t\t\t\tmax: maxAge,\r\n\t\t\t\t\tvalues: [config.age1 < minAge ? minAge : config.age1, config.age2 > maxAge ? maxAge : config.age2],\r\n\t\t\t\t\tslide: function (event, ui) {\r\n\t\t\t\t\t\t$(\"#_tAge\").html(ui.values[0] + \" - \" + ui.values[1])\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.on(\"slidestop\", function (event, ui) {\r\n\t\t\t\t\tlet age = $(this).slider(\"values\")\r\n\t\t\t\t\tlet uiFilters = getUiFilters()\r\n\t\t\t\t\tlet filterConfig = GM_getValue(\"filterConfig\", uiFilters)\r\n\t\t\t\t\tfilterConfig.age1 = age[0]\r\n\t\t\t\t\tfilterConfig.age2 = age[1]\r\n\r\n\t\t\t\t\tGM_setValue(\"filterConfig\", filterConfig)\r\n\t\t\t\t\texecuteFilters(uiFilters)\r\n\t\t\t\t})\r\n\t\t\t$(\"#buttons>button,#buttons>input,#buttons>a\")\r\n\t\t\t\t//升序\r\n\t\t\t\t.eq(0)\r\n\t\t\t\t.button({ icon: \"ui-icon-arrowthick-1-n\", showLabel: true })\r\n\t\t\t\t.click(function () {\r\n\t\t\t\t\t$(\"#desc\").show()\r\n\t\t\t\t\t$(this).hide()\r\n\t\t\t\t\tsortElementsByIndicator(asc)\r\n\t\t\t\t})\r\n\t\t\t\t.end()\r\n\t\t\t\t//降序\r\n\t\t\t\t.eq(1)\r\n\t\t\t\t.button({ icon: \"ui-icon-arrowthick-1-s\", showLabel: true })\r\n\t\t\t\t.click(function () {\r\n\t\t\t\t\t$(\"#asc\").show()\r\n\t\t\t\t\t$(this).hide()\r\n\t\t\t\t\tsortElementsByIndicator(desc)\r\n\t\t\t\t})\r\n\t\t\t\t.end()\r\n\t\t\t\t// 缓存过期时间（小时）\r\n\t\t\t\t.eq(2)\r\n\t\t\t\t.spinner({\r\n\t\t\t\t\tmin: 0,\r\n\t\t\t\t\tspin: function (event, ui) {\r\n\t\t\t\t\t\tGM_setValue(\"tInfoExprHours\", ui.value)\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.css({ width: \"45px\" })\r\n\t\t\t\t.val(GM_getValue(\"tInfoExprHours\", configExprMilliseconds / 3600000))\r\n\t\t\t\t.hide()\r\n\t\t\t\t.end()\r\n\t\t\t\t//清空缓存\r\n\t\t\t\t.eq(3)\r\n\t\t\t\t.button({ icon: \"uiicon-trash\", showLabel: true })\r\n\t\t\t\t.click(function () {\r\n\t\t\t\t\tvar keys = GM_listValues()\r\n\t\t\t\t\t$.each(keys, function (i, item) {\r\n\t\t\t\t\t\tlet title = `正在删除第${i}个教师缓存`\r\n\t\t\t\t\t\tsubmit(function (next1) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t$(\"title\").html(title)\r\n\t\t\t\t\t\t\t\tGM_deleteValue(item)\r\n\t\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\t\tnext1()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t$(\".go-search\").click()\r\n\t\t\t\t})\r\n\t\t\t\t.end()\r\n\t\t\t\t//submit suggestion\r\n\t\t\t\t.eq(4)\r\n\t\t\t\t.button({ icon: \"ui-icon-comment\", showLabel: true })\r\n\t\t\t\t.prop(\"href\", \"https://github.com/niubilityfrontend/userscripts/issues/new?assignees=&labels=&template=feature_request.md&title=\")\r\n\t\t\t\t.prop(\"target\", \"_blank\")\r\n\t\t\t\t.end()\r\n\t\t\t\t//系统帮助\r\n\t\t\t\t.eq(5)\r\n\t\t\t\t.button({ icon: \"ui-icon-help\", showLabel: true })\r\n\t\t\t\t.prop(\"href\", \"https://github.com/niubilityfrontend/userscripts/tree/master/findteacherson51talk\")\r\n\t\t\t\t.prop(\"target\", \"_blank\")\r\n\t\t\t\t.end()\r\n\t\t\t$(\"#buttons1>button\")\r\n\t\t\t\t//反选时间段\r\n\t\t\t\t.eq(0)\r\n\t\t\t\t.button({ icon: \"ui-icon-seek-next\", showLabel: true })\r\n\t\t\t\t.click(function () {\r\n\t\t\t\t\t$(\"#timesMultipleCheck>input\").each(function (i, item) {\r\n\t\t\t\t\t\t$(item).prop(\"checked\", !$(item).is(\":checked\")).change()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.end()\r\n\t\t\t\t// 获取选定时段老师\r\n\t\t\t\t.eq(1)\r\n\t\t\t\t.button({ icon: \"ui-icon-seek-next\", showLabel: true })\r\n\t\t\t\t.click(function () {\r\n\t\t\t\t\tselectedTimeSlots = []\r\n\t\t\t\t\t$(\"#timesMultipleCheck>input\").each(function (i, item) {\r\n\t\t\t\t\t\tif ($(item).is(\":checked\")) {\r\n\t\t\t\t\t\t\tselectedTimeSlots.push($(item).val())\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetSession(\"selectedTimeSlots\", selectedTimeSlots)\r\n\t\t\t\t\tsetSession(\"selectedTimeSlotsTotal\", selectedTimeSlots.length)\r\n\t\t\t\t\tisStopShowBoxAndAutoGetNextTimeTeachers()\r\n\t\t\t\t})\r\n\t\t\t\t.end()\r\n\t\t\t//初始化时间选择按钮\r\n\t\t\t$(\"div.condition-type:eq(0)>ul.condition-type-time>li\").each(function (i, item) {\r\n\t\t\t\taddCheckbox($(item).attr(\"data-val\"), $(item).text())\r\n\t\t\t})\r\n\t\t\tlet timesStr = sessionStorage.getItem(\"selectedTimeSlots\"),\r\n\t\t\t\tselectedTimeSlots = []\r\n\t\t\tif (timesStr) {\r\n\t\t\t\tselectedTimeSlots = JSON.parse(timesStr)\r\n\t\t\t\tif (selectedTimeSlots.length > 0) {\r\n\t\t\t\t\tlet i = selectedTimeSlots.length\r\n\t\t\t\t\twhile (i--) {\r\n\t\t\t\t\t\t$(\"#timesMultipleCheck>input[value='\" + selectedTimeSlots[i] + \"']\").attr(\"checked\", true)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(\"#timesMultipleCheck>input[value='\" + $(\"input[name='selectTime']\").val() + \"']\").attr(\"checked\", true)\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t$(\"#timesMultipleCheck>input[value='\" + $(\"input[name='selectTime']\").val() + \"']\").attr(\"checked\", true)\r\n\t\t\t}\r\n\t\t\t$(\"#timesMultipleCheck\").find(\"input\").checkboxradio({\r\n\t\t\t\ticon: false,\r\n\t\t\t})\r\n\r\n\t\t\t$(\"#tabs\").tabs({\r\n\t\t\t\tactive: \"#tabs-2\",\r\n\t\t\t\tactivate: function (event, ui) {\r\n\t\t\t\t\tif (ui.newPanel.attr(\"id\") != \"tabs-2\") return\r\n\t\t\t\t\tlet teachers = getCachedTeachers()\r\n\t\t\t\t\t$(\"#teacherTab\")\r\n\t\t\t\t\t\t//searchoptions:{sopt:['eq','ne','le','lt','gt','ge','bw','bn','cn','nc','ew','en']}\r\n\t\t\t\t\t\t.jqGrid({\r\n\t\t\t\t\t\t\tdata: teachers,\r\n\t\t\t\t\t\t\tdatatype: \"local\",\r\n\t\t\t\t\t\t\theight: 240,\r\n\t\t\t\t\t\t\tcolNames: [\"查\", \"类型\", \"排名\", \"Name\", \"爱\", \"分\", \"标\", \"率%\", \"收藏数\", \"学\", \"教龄\", \"好\", \"差\", \"龄\", \"更新\"],\r\n\t\t\t\t\t\t\tcolModel: [\r\n\t\t\t\t\t\t\t\t//\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tname: \"batchNumber\",\r\n\t\t\t\t\t\t\t\t\tindex: \"batchNumber\",\r\n\t\t\t\t\t\t\t\t\twidth: 45,\r\n\t\t\t\t\t\t\t\t\tsorttype: \"float\",\r\n\t\t\t\t\t\t\t\t\talign: \"right\",\r\n\t\t\t\t\t\t\t\t\tsearchoptions: {\r\n\t\t\t\t\t\t\t\t\t\tsopt: [\"cn\"],\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tformatter: function formatter(value, options, rData) {\r\n\t\t\t\t\t\t\t\t\t\tlet date = dayjs(value)\r\n\t\t\t\t\t\t\t\t\t\tif (date.isValid()) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn `<span title='${date.format(\"YY-M-D H:m:s\")}'>${date.format(\"HHmmss\")}</span>`\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn value\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t}, //\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tname: \"type\",\r\n\t\t\t\t\t\t\t\t\tindex: \"type\",\r\n\t\t\t\t\t\t\t\t\twidth: 55,\r\n\t\t\t\t\t\t\t\t\tsorttype: \"string\",\r\n\t\t\t\t\t\t\t\t\talign: \"left\",\r\n\t\t\t\t\t\t\t\t\tsearchoptions: {\r\n\t\t\t\t\t\t\t\t\t\tsopt: [\"cn\"],\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue: $(\".s-t-top-list .li-active\").text() == \"收藏外教\" ? \"\" : $(\".s-t-top-list .li-active\").text(),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tformatter: function formatter(value, options, rData) {\r\n\t\t\t\t\t\t\t\t\t\tif (value) return value\r\n\t\t\t\t\t\t\t\t\t\telse return \"na\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t}, //\r\n\t\t\t\t\t\t\t\t{ name: \"rank\", index: \"rank\", width: 40, sorttype: \"float\", align: \"right\", searchoptions: { sopt: [\"le\"] } }, //\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\t\t\t\tindex: \"name\",\r\n\t\t\t\t\t\t\t\t\twidth: 125,\r\n\t\t\t\t\t\t\t\t\tsorttype: \"string\",\r\n\t\t\t\t\t\t\t\t\tformatter: function formatter(value, options, rData) {\r\n\t\t\t\t\t\t\t\t\t\treturn \"<a href='http://www.51talk.com/TeacherNew/info/\" + rData[\"tid\"] + \"' target='_blank' style='color:blue'>\" + (value ? value : rData[\"tid\"]) + \"</a>\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t}, //\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tname: \"isFavorite\",\r\n\t\t\t\t\t\t\t\t\tindex: \"isFavorite\",\r\n\t\t\t\t\t\t\t\t\twidth: 39,\r\n\t\t\t\t\t\t\t\t\tsorttype: \"string\",\r\n\t\t\t\t\t\t\t\t\talign: \"left\",\r\n\t\t\t\t\t\t\t\t\tsearchoptions: { sopt: [\"cn\"] },\r\n\t\t\t\t\t\t\t\t\tformatter: function formatter(value, options, rData) {\r\n\t\t\t\t\t\t\t\t\t\tif (value) return \"收藏\"\r\n\t\t\t\t\t\t\t\t\t\telse return \"\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t}, //\r\n\t\t\t\t\t\t\t\t{ name: \"indicator\", index: \"indicator\", width: 50, sorttype: \"float\", align: \"right\", searchoptions: { sopt: [\"ge\"] } }, //\r\n\t\t\t\t\t\t\t\t{ name: \"label\", index: \"label\", width: 45, align: \"right\", searchoptions: { sopt: [\"ge\"] } }, //\r\n\t\t\t\t\t\t\t\t{ name: \"thumbUpRate\", index: \"thumbUpRate\", width: 35, align: \"right\", sorttype: \"float\", searchoptions: { sopt: [\"ge\"] } }, //\r\n\t\t\t\t\t\t\t\t{ name: \"favoritesCount\", index: \"favoritesCount\", width: 35, align: \"right\", sorttype: \"float\", searchoptions: { sopt: [\"ge\"] } }, //\r\n\t\t\t\t\t\t\t\t{ name: \"sLevel\", index: \"sLevel\", width: 85, sorttype: \"string\", align: \"left\", searchoptions: { sopt: [\"cn\", \"nc\"] } }, //\r\n\t\t\t\t\t\t\t\t{ name: \"tAge\", index: \"tAge\", width: 25, sorttype: \"float\", align: \"right\", searchoptions: { sopt: [\"ge\"] } }, //\r\n\t\t\t\t\t\t\t\t{ name: \"thumbUp\", index: \"thumbUp\", width: 45, align: \"right\", sorttype: \"float\", searchoptions: { sopt: [\"ge\"] } }, //\r\n\t\t\t\t\t\t\t\t{ name: \"thumbDown\", index: \"thumbDown\", width: 30, sorttype: \"float\", align: \"right\" }, //\r\n\t\t\t\t\t\t\t\t{ name: \"age\", index: \"age\", width: 30, sorttype: \"float\", align: \"right\", searchoptions: { sopt: [\"le\", \"ge\", \"eq\"] } }, //\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tname: \"updateTime\",\r\n\t\t\t\t\t\t\t\t\tindex: \"updateTime\",\r\n\t\t\t\t\t\t\t\t\twidth: 35,\r\n\t\t\t\t\t\t\t\t\tsorttype: \"Date\",\r\n\t\t\t\t\t\t\t\t\talign: \"right\",\r\n\t\t\t\t\t\t\t\t\tsearchoptions: { sopt: [\"cn\"] },\r\n\t\t\t\t\t\t\t\t\tformatter: function formatter(value, options, rData) {\r\n\t\t\t\t\t\t\t\t\t\tif (value) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn dayjs(value).fromNow(true)\r\n\t\t\t\t\t\t\t\t\t\t\t// let d = Date.now() - value;\r\n\t\t\t\t\t\t\t\t\t\t\t// if (d < 1000 * 60) {\r\n\t\t\t\t\t\t\t\t\t\t\t// \treturn \"刚刚\";\r\n\t\t\t\t\t\t\t\t\t\t\t// } else if (d < 1000 * 60 * 60) {\r\n\t\t\t\t\t\t\t\t\t\t\t// \treturn (d / 60000).toFixed(0) + \"分\";\r\n\t\t\t\t\t\t\t\t\t\t\t// } else if (d < 1000 * 60 * 60 * 24) {\r\n\t\t\t\t\t\t\t\t\t\t\t// \treturn (d / 3600000).toFixed(0) + \"时\";\r\n\t\t\t\t\t\t\t\t\t\t\t// } else {\r\n\t\t\t\t\t\t\t\t\t\t\t// \treturn (d / 86400000).toFixed(0) + \"天\";\r\n\t\t\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t\t\t} else return \"na\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tmultiselect: false,\r\n\t\t\t\t\t\t\trowNum: 10,\r\n\t\t\t\t\t\t\trowList: [5, 10, 20, 30],\r\n\t\t\t\t\t\t\tpager: \"#pager5\",\r\n\t\t\t\t\t\t\tsortname: \"batchNumber desc,indicator desc\",\r\n\t\t\t\t\t\t\tviewrecords: true,\r\n\t\t\t\t\t\t\tmultiSort: true,\r\n\t\t\t\t\t\t\tsortorder: \"desc\",\r\n\t\t\t\t\t\t\tgrouping: false,\r\n\t\t\t\t\t\t\t// shrinkToFit: false,\r\n\t\t\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\t\t\tdel: true,\r\n\t\t\t\t\t\t\t//refresh: true,\r\n\t\t\t\t\t\t\t// autowidth: true,\r\n\t\t\t\t\t\t\twidth: 830,\r\n\t\t\t\t\t\t\t//caption: \"\",,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.jqGrid(\"filterToolbar\", {\r\n\t\t\t\t\t\t\tsearchOperators: true,\r\n\t\t\t\t\t\t})[0]\r\n\t\t\t\t\t\t.triggerToolbar()\r\n\t\t\t\t\tif (settings.isListPage) {\r\n\t\t\t\t\t\t$.each($(\".item\"), function (i, item) {\r\n\t\t\t\t\t\t\tlet jqEl = $(item)\r\n\t\t\t\t\t\t\tlet tid = jqEl.find(\".teacher-details-link a\").attr(\"href\").replace(`${window.location.protocol}//${window.location.host}/TeacherNew/info/`, \"\")\r\n\t\t\t\t\t\t\tlet t = teachers.find((currentValue, index, arr) => {\r\n\t\t\t\t\t\t\t\treturn currentValue.tid == tid\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tlet lb = jqEl.find(\".teacher-name>label:eq(3)\")\r\n\t\t\t\t\t\t\tif (lb.length == 0) jqEl.find(\".teacher-name\").html(`${jqEl.find(\".teacher-name\").html()}| ${getRankHtml(t)}`)\r\n\t\t\t\t\t\t\telse lb.replaceWith(getRankHtml(t))\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (settings.isDetailPage) {\r\n\t\t\t\t\t\tlet t = teachers.find((currentValue, index, arr) => {\r\n\t\t\t\t\t\t\treturn currentValue.tid == getTId()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t$(\"#teacherRank\").html(getRankHtml(t))\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\tlet uiFilters_top = getUiFilters()\r\n\t\t\texecuteFilters(uiFilters_top)\r\n\t\t\t$(\"#_tAge\").html(uiFilters_top.age1 + \" - \" + uiFilters_top.age2)\r\n\t\t\t$(\"#_tLabelCount\").html(uiFilters_top.l1 + \" - \" + uiFilters_top.l2)\r\n\t\t\t$(\"#_tfc\").html(uiFilters_top.fc1 + \" - \" + uiFilters_top.fc2 + \"\")\r\n\t\t\t$(\"#_thumbUpRate\").html(uiFilters_top.rate1 + \"% - \" + uiFilters_top.rate2 + \"%\")\r\n\t\t} catch (ex) {\r\n\t\t\tconsole.debug(ex + \"\")\r\n\t\t\tthrow ex\r\n\t\t} finally {\r\n\t\t\tnext()\r\n\t\t}\r\n\t})\r\n\r\n\t//弹出信息框\r\n\tsubmit(function (next) {\r\n\t\t$(\".s-t-list\").before($(\".s-t-page\").prop(\"outerHTML\"))\r\n\t\t$(\"#tabs>div:first\").append($(\".s-t-page\").prop(\"outerHTML\"))\r\n\t\tsortElementsByIndicator(desc)\r\n\t\t$(\"#tabs\").tabs(\"option\", \"active\", 1)\r\n\t\tif (settings.isDetailPage) {\r\n\t\t\t$(\"#tabs\").tabs(\"option\", \"disabled\", [0])\r\n\t\t}\r\n\t\t$(\"#filterDialog\").dialog({\r\n\t\t\twidth: \"850\",\r\n\t\t})\r\n\t\t$(\"#filterDialog\").parent().scrollFix()\r\n\t\t$(\"#filterDialog\").dialog(\"open\")\r\n\t\tnext()\r\n\t})\r\n}\r\nif (settings.isCoursePage) {\r\n\tsubmit(function (next) {\r\n\t\t$(\".course_lock\").removeClass(\"course_lock\").addClass(\"course_unlock\")\r\n\t\t$(\"img.course_mask\").removeClass(\"course_mask\").attr(\"src\", \"\")\r\n\t\tnext()\r\n\t})\r\n}\r\n"],"names":["Pace","Options","ajax","document","eventLag","elements","selectors","t","e","module","exports","this","n","r","i","s","u","a","o","f","h","c","d","$","l","y","M","name","weekdays","split","months","m","String","length","Array","join","g","z","utcOffset","Math","abs","floor","date","year","month","clone","add","ceil","p","w","D","ms","Q","toLowerCase","replace","v","_","S","args","arguments","O","locale","$L","utc","$u","x","$x","$offset","parse","prototype","$d","Date","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","invalidDate","substr","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","b","forEach","extend","$i","isDayjs","en","Ls","default","ordinal","yearStart","formats","LT","LTS","L","LL","LLL","LLLL","ll","lll","llll","relativeTime","future","past","yy","fromToBase","thresholds","rounding","to","from","toNow","fromNow","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","getter","__esModule","definition","key","Object","defineProperty","enumerable","obj","prop","hasOwnProperty","GM_config","settings","storage","ret","prefix","addStyle","css","GM_addStyle","style","createElement","textContent","head","appendChild","load","defaults","def","cfg","GM_getValue","localStorage","getItem","JSON","entries","value","save","data","stringify","GM_setValue","setItem","setup","createContainer","form","classList","createTextbox","placeholder","maxLength","multiline","resize","input","type","createNumber","max","step","createSelect","options","showBlank","select","createOption","val","text","option","opt","optgroup","label","values","createCheckbox","checked","checkbox","id","createButton","onclick","classname","button","createLabel","htmlFor","lbl","controls","div","filter","setting","control","resizable","addEventListener","onchange","onsave","remove","oncancel","body","config","conf","GM_registerMenuCommand","GetCalculatorIndicator","calcIndicator","Function","error","console","debug","alert","indicatorCalculator","currentURL","window","location","href","toLocaleLowerCase","isCoursePage","includes","isDetailPage","isListPage","pageMaxCount","tid","url","configExprMilliseconds","tInfoExprHours","num","getTId","getSession","funcDefaultValue","sessionStorage","setSession","funcValue","removeItem","getBatchNumber","cur","now","newBatcherKeyMinutes","saved","parseInt","getInfoKey","tinfo","isNaN","thumbUpRate","favoritesCount","calcThumbRate","thumbDown","thumbUp","all","EPSILON","toFixed","submit","func","queue","dequeue","getLabelCount","jqLabelElement","each","getLabelByItems","jqLabelSpanList","map","exec","innerHTML","reduce","meta","item","getTeacherInfoFromDetailPage","tinfo_saved","jqr","tinfo_latest","find","replaceAll","updateTime","labels","teacherStar","certificates","suitable","pre","push","indicator","sLevel","isFavorite","trim","agesStr","tAge","age","batchNumber","has","target","keys","receiver","clean","deleteValue","splice","toFloat","parseFloat","toInt","includesAny","arr","isArray","RegExp","search","replacement","startsWith","rawPos","pos","endsWith","this_len","start","TypeError","indexOf","parameters","queryString","cachedkey","Proxy","PropertiesCaseInsensitive","paramName","paramValue","index","getAutoNextPagesCount","maxRate","minRate","maxLabel","minLabel","maxFc","minFc","maxAge","minAge","getLeftPageCount","pages","prev","curr","updateTeacherInfoToUI","jqEl","attr","html","executeFilters","uiFilters","tCount","hideCount","node","tInfoJson","isShown","rate1","rate2","l1","l2","age1","age2","fc1","fc2","is","show","animate","left","hide","getUiFilters","slider","getTeacherInfoFromListPageUI","next","totalPages","curPageId","pageID","remainPages","autoNextPageCount","dialog","appendTo","height","width","modal","buttons","停止获取","el","track","tInfoKey","protocol","host","dateType","success","always","isStopShowBoxAndAutoGetNextTimeTeachers","click","str","selectedTimeSlots","shift","trigger","addCheckbox","group","container","inputs","for","processTeacherDetailPage","code","dayjs","relative","zh_cn","asc","av","bv","desc","sortElementsByIndicator","sortBy","sortedElements","detach","sort","append","getCachedTeachers","teachers","GM_listValues","indexs","t1","t2","idx","rank","getRankHtml","colorIf","markRankRed","UiHtmlTemplate","range","slide","event","ui","on","filterConfig","fc","_event","rate","eq","icon","showLabel","end","spinner","spin","title","next1","GM_deleteValue","change","timesStr","checkboxradio","tabs","active","activate","newPanel","jqGrid","datatype","colNames","colModel","sorttype","align","searchoptions","sopt","formatter","rData","defaultValue","multiselect","rowNum","rowList","pager","sortname","viewrecords","multiSort","sortorder","grouping","responsive","del","searchOperators","triggerToolbar","currentValue","lb","replaceWith","uiFilters_top","ex","before","parent","scrollFix","removeClass","addClass"],"sourceRoot":""}